!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(Fe,P){function g(e){return A(e,Ft)}function Y(n,t){t.left&&n.css({"border-left-width":1,"margin-left":t.left-1}),t.right&&n.css({"border-right-width":1,"margin-right":t.right-1})}function i(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function Oe(){Fe("body").addClass("fc-not-allowed")}function e(){Fe("body").removeClass("fc-not-allowed")}function n(t,e,n){var g=Lt(e/t.length),r=Lt(e-g*(t.length-1)),s=[],o=[],p=[],u=0;Ve(t),t.each(function(e,n){var i=e===t.length-1?r:g,a=Fe(n).outerHeight(!0);a<i?(s.push(n),o.push(a),p.push(Fe(n).height())):u+=a}),n&&(e-=u,g=Lt(e/s.length),r=Lt(e-g*(s.length-1))),Fe(s).each(function(t,e){var n=t===s.length-1?r:g,i=o[t],a=p[t];i<n&&Fe(e).height(n-(i-a))})}function Ve(e){e.height("")}function t(t){var o=0;return t.find("> *").each(function(t,e){var n=Fe(e).outerWidth();n>o&&(o=n)}),o++,t.width(o),o}function r(r,t){var e,n=r.add(t);return n.css({position:"relative",left:-1}),e=r.outerHeight()-t.outerHeight(),n.css({position:"",left:""}),e}function Pe(t){var e=t.css("position"),n=t.parents().filter(function(){var t=Fe(this);return /(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&n.length?n:Fe(t[0].ownerDocument||document)}function o(o,t){var e=o.offset(),n=e.left-(t?t.left:0),a=e.top-(t?t.top:0);return{left:n,right:n+o.outerWidth(),top:a,bottom:a+o.outerHeight()}}function a(o,t){var e=o.offset(),n=l(o),i=e.left+c(o,"border-left-width")+n.left-(t?t.left:0),a=e.top+c(o,"border-top-width")+n.top-(t?t.top:0);return{left:i,right:i+o[0].clientWidth,top:a,bottom:a+o[0].clientHeight}}function l(r){var t=r.innerWidth()-r[0].clientWidth,e={left:0,right:0,top:0,bottom:r.innerHeight()-r[0].clientHeight};return s()&&"rtl"==r.css("direction")?e.left=t:e.right=t,e}function s(){return null===Nt&&(Nt=d()),Nt}function d(){var t=Fe("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),e=t.children(),n=e.offset().left>t.offset().left;return t.remove(),n}function c(n,t){return parseFloat(n.css(t))||0}function u(e){return 1==e.which&&!e.ctrlKey}function p(n){if(void 0!==n.pageX)return n.pageX;var t=n.originalEvent.touches;return t?t[0].pageX:void 0}function f(n){if(void 0!==n.pageY)return n.pageY;var t=n.originalEvent.touches;return t?t[0].pageY:void 0}function m(e){return /^touch/.test(e.type)}function h(e){e.addClass("fc-unselectable").on("selectstart",v)}function v(e){e.preventDefault()}function y(e){return!!window.addEventListener&&(window.addEventListener("scroll",e,!0),!0)}function S(e){return!!window.removeEventListener&&(window.removeEventListener("scroll",e,!0),!0)}function w(r,t){var e={left:kt(r.left,t.left),right:xt(r.right,t.right),top:kt(r.top,t.top),bottom:xt(r.bottom,t.bottom)};return e.left<e.right&&e.top<e.bottom&&e}function E(n,t){return{left:xt(kt(n.left,t.left),t.right),top:xt(kt(n.top,t.top),t.bottom)}}function D(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function b(n,t){return{left:n.left-t.left,top:n.top-t.top}}function H(t){var o,n,a=[],r=[];for("string"==typeof t?r=t.split(/\s*,\s*/):"function"==typeof t?r=[t]:Fe.isArray(t)&&(r=t),o=0;o<r.length;o++)n=r[o],"string"==typeof n?a.push("-"==n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&a.push({func:n});return a}function T(o,t,e){var n,i;for(n=0;n<e.length;n++)if(i=R(o,t,e[n]))return i;return 0}function R(r,t,e){return e.func?e.func(r,t):I(r[e.field],t[e.field])*(e.order||1)}function I(t,e){return t||e?null==e?-1:null==t?1:"string"===Fe.type(t)||"string"===Fe.type(e)?(t+"").localeCompare(e+""):t-e:0}function x(d,t){var e,c,g,p,f=d.start,o=d.end,l=t.start,a=t.end;if(o>l&&f<a)return f>=l?(e=f.clone(),g=!0):(e=l.clone(),g=!1),o<=a?(c=o.clone(),p=!0):(c=a.clone(),p=!1),{start:e,end:c,isStart:g,isEnd:p}}function k(e,t){return P.duration({days:e.clone().stripTime().diff(t.clone().stripTime(),"days"),ms:e.time()-t.time()})}function L(e,t){return P.duration({days:e.clone().stripTime().diff(t.clone().stripTime(),"days")})}function z(e,t,n){return P.duration(It(e.diff(t,n,!0)),n)}function B(o,t){var e,n,i;for(e=0;e<Mt.length&&(n=Mt[e],i=F(n,o,t),!(1<=i&&_e(i)));e++);return n}function F(e,t,n){return null==n?P.isDuration(t)?t.as(e):t.end.diff(t.start,e,!0):n.diff(t,e,!0)}function N(r,t){var e,n;return G(r)||G(t)?r/t:(e=r.asMonths(),n=t.asMonths(),1<=Rt(e)&&_e(e)&&1<=Rt(n)&&_e(n)?e/n:r.asDays()/t.asDays())}function G(e){return!!(e.hours()||e.minutes()||e.seconds()||e.milliseconds())}function M(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function O(e){return /^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(e)}function A(d,t){var e,n,i,r,s,c,l={};if(t)for(e=0;e<t.length;e++){for(n=t[e],i=[],r=d.length-1;0<=r;r--)if(s=d[r][n],"object"==("undefined"===typeof s?"undefined":babelHelpers.typeof(s)))i.unshift(s);else if(void 0!==s){l[n]=s;break}i.length&&(l[n]=A(i))}for(e=d.length-1;0<=e;e--)for(n in c=d[e],c)n in l||(l[n]=c[n]);return l}function V(n){var t=function(){};return t.prototype=n,new t}function _(r,t){for(var e in r)W(r,e)&&(t[e]=r[e])}function W(n,t){return Ot.call(n,t)}function j(t){return /undefined|null|boolean|number|string/.test(Fe.type(t))}function U(t,e,n){if(Fe.isFunction(t)&&(t=[t]),t){var i,r;for(i=0;i<t.length;i++)r=t[i].apply(e,n)||r;return r}}function q(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function Z(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function X(e){return e.replace(/&.*?;/g,"")}function K(t){var r=[];return Fe.each(t,function(n,t){null!=t&&r.push(n+":"+t)}),r.join(";")}function Q(t){var r=[];return Fe.each(t,function(n,t){null!=t&&r.push(n+"=\""+Z(t)+"\"")}),r.join(" ")}function $(e){return e.charAt(0).toUpperCase()+e.slice(1)}function J(n,t){return n-t}function _e(e){return 0===e%1}function Ye(r,t){var e=r[t];return function(){return e.apply(r,arguments)}}function We(d,t,e){var n,c,r,s,o,l=function i(){var a=+new Date-s;a<t?n=setTimeout(i,t-a):(n=null,e||(o=d.apply(r,c),r=c=null))};return function(){r=this,c=arguments,s=+new Date;var a=e&&!n;return n||(n=setTimeout(l,t)),a&&(o=d.apply(r,c),r=c=null),o}}function je(t,e){return t&&t.then&&"resolved"!==t.state()?e?t.then(e):void 0:Fe.when(e())}function Ue(e,t,n){var r,i,o,s,a=e[0],l=1==e.length&&"string"==typeof a;return P.isMoment(a)||M(a)||void 0===a?s=P.apply(null,e):(r=!1,i=!1,l?At.test(a)?(a+="-01",e=[a],r=!0,i=!0):(o=Vt.exec(a))&&(r=!o[5],i=!0):Fe.isArray(a)&&(i=!0),s=t||r?P.utc.apply(P,e):P.apply(null,e),r?(s._ambigTime=!0,s._ambigZone=!0):n&&(i?s._ambigZone=!0:l&&s.utcOffset(a))),s._fullCalendar=!0,s}function qe(n,t){return te.format.call(n,t)}function Ze(n,t){return Xe(n,et(t))}function Xe(r,t){var e,n="";for(e=0;e<t.length;e++)n+=Ke(r,t[e]);return n}function Ke(r,t){var o,n;return"string"==typeof t?t:(o=t.token)?ne[o]?ne[o](r):qe(r,o):t.maybe&&(n=Xe(r,t.maybe),n.match(/[1-9]/))?n:""}function Qe(o,t,e,n,i){var r;return o=zt.moment.parseZone(o),t=zt.moment.parseZone(t),r=o.localeData(),e=r.longDateFormat(e)||e,n=n||" - ",$e(o,t,et(e),n,i)}function $e(m,t,e,n,i){var r,s,o,l,a=m.clone().stripZone(),u=t.clone().stripZone(),d="",c="",h="",f="",g="";for(s=0;s<e.length&&(r=Je(m,t,a,u,e[s]),!1!==r);s++)d+=r;for(o=e.length-1;o>s&&(r=Je(m,t,a,u,e[o]),!1!==r);o--)c=r+c;for(l=s;l<=o;l++)h+=Ke(m,e[l]),f+=Ke(t,e[l]);return(h||f)&&(g=i?f+n+h:h+n+f),d+g+c}function Je(a,t,e,n,i){var l,s;return"string"==typeof i?i:!!((l=i.token)&&(s=ie[l.charAt(0)],s&&e.isSame(n,s)))&&qe(a,l)}function et(e){return e in re?re[e]:re[e]=tt(e)}function tt(r){for(var t,e=[],n=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=n.exec(r);)t[1]?e.push(t[1]):t[2]?e.push({maybe:tt(t[2])}):t[3]?e.push({token:t[3]}):t[5]&&e.push(t[5]);return e}function nt(){}function rt(r,t){var e;return W(t,"constructor")&&(e=t.constructor),"function"!=typeof e&&(e=t.constructor=function(){r.apply(this,arguments)}),e.prototype=V(r.prototype),_(t,e.prototype),_(r,e),e}function it(n,t){_(t,n.prototype)}function ot(n,r){return!n&&!r||n&&r&&n.component===r.component&&at(n,r)&&at(r,n)}function at(r,t){for(var e in r)if(!/^(component|left|right|top|bottom)$/.test(e)&&r[e]!==t[e])return!1;return!0}function st(e){return{start:e.start.clone(),end:e.end?e.end.clone():null,allDay:e.allDay}}function lt(n){var t=ct(n);return"background"===t||"inverse-background"===t}function dt(e){return"inverse-background"===ct(e)}function ct(e){return q((e.source||{}).rendering,e.rendering)}function gt(r){var t,e,n={};for(t=0;t<r.length;t++)e=r[t],(n[e._id]||(n[e._id]=[])).push(e);return n}function ut(n,t){return n.start-t.start}function pt(e){var t,n,a,d,c=zt.dataAttrPrefix;return c&&(c+="-"),t=e.data(c+"event")||null,t&&(t="object"==("undefined"===typeof t?"undefined":babelHelpers.typeof(t))?Fe.extend({},t):{},n=t.start,null==n&&(n=t.time),a=t.duration,d=t.stick,delete t.start,delete t.time,delete t.duration,delete t.stick),null==n&&(n=e.data(c+"start")),null==n&&(n=e.data(c+"time")),null==a&&(a=e.data(c+"duration")),null==d&&(d=e.data(c+"stick")),n=null==n?null:P.duration(n),a=null==a?null:P.duration(a),d=!!d,{eventProps:t,startTime:n,duration:a,stick:d}}function ft(r,t){var e,n;for(e=0;e<t.length;e++)if(n=t[e],n.leftCol<=r.rightCol&&n.rightCol>=r.leftCol)return!0;return!1}function mt(n,t){return n.leftCol-t.leftCol}function ht(o){var t,e,n,i=[];for(t=0;t<o.length;t++){for(e=o[t],n=0;n<i.length&&St(e,i[n]).length;n++);e.level=n,(i[n]||(i[n]=[])).push(e)}return i}function vt(o){var t,e,n,i,r;for(t=0;t<o.length;t++)for(e=o[t],n=0;n<e.length;n++)for(i=e[n],i.forwardSegs=[],r=t+1;r<o.length;r++)St(i,o[r],i.forwardSegs)}function yt(o){var t,e,n=o.forwardSegs,i=0;if(void 0===o.forwardPressure){for(t=0;t<n.length;t++)e=n[t],yt(e),i=kt(i,1+e.forwardPressure);o.forwardPressure=i}}function St(r,t,e){e=e||[];for(var n=0;n<t.length;n++)wt(r,t[n])&&e.push(t[n]);return e}function wt(n,t){return n.bottom>t.top&&n.top<t.bottom}function Et(r){Fe.each(Ce,function(e,t){null==r[e]&&(r[e]=t(r))})}function Dt(e){return P.localeData(e)||P.localeData("en")}function bt(t){function e(){var e=t.options,a=e.header;S=e.theme?"ui":"fc",a?(r?r.empty():r=this.el=Fe("<div class='fc-toolbar'/>"),r.append(i("left")).append(i("right")).append(i("center")).append("<div class=\"fc-clear\"/>")):o()}function o(){r&&(r.remove(),r=n.el=null)}function i(e){var n=Fe("<div class=\"fc-"+e+"\"/>"),g=t.options,i=g.header[e];return i&&Fe.each(i.split(" "),function(){var e,r=Fe(),o=!0;Fe.each(this.split(","),function(e,n){var i,s,a,l,d,c,u,p,h,m;"title"==n?(r=r.add(Fe("<h2>&nbsp;</h2>")),o=!1):((i=(g.customButtons||{})[n])?(a=function(e){i.click&&i.click.call(m[0],e)},l="",d=i.text):(s=t.getViewSpec(n))?(a=function(){t.changeView(n)},f.push(n),l=s.buttonTextOverride,d=s.buttonTextDefault):t[n]&&(a=function(){t[n]()},l=(t.overrides.buttonText||{})[n],d=g.buttonText[n]),a&&(c=i?i.themeIcon:g.themeButtonIcons[n],u=i?i.icon:g.buttonIcons[n],p=l?Z(l):c&&g.theme?"<span class='ui-icon ui-icon-"+c+"'></span>":u&&!g.theme?"<span class='fc-icon fc-icon-"+u+"'></span>":Z(d),h=["fc-"+n+"-button",S+"-button",S+"-state-default"],m=Fe("<button type=\"button\" class=\""+h.join(" ")+"\">"+p+"</button>").click(function(e){m.hasClass(S+"-state-disabled")||(a(e),(m.hasClass(S+"-state-active")||m.hasClass(S+"-state-disabled"))&&m.removeClass(S+"-state-hover"))}).mousedown(function(){m.not("."+S+"-state-active").not("."+S+"-state-disabled").addClass(S+"-state-down")}).mouseup(function(){m.removeClass(S+"-state-down")}).hover(function(){m.not("."+S+"-state-active").not("."+S+"-state-disabled").addClass(S+"-state-hover")},function(){m.removeClass(S+"-state-hover").removeClass(S+"-state-down")}),r=r.add(m)))}),o&&r.first().addClass(S+"-corner-left").end().last().addClass(S+"-corner-right").end(),1<r.length?(e=Fe("<div/>"),o&&e.addClass("fc-button-group"),e.append(r),n.append(e)):n.append(r)}),n}var n=this;n.render=e,n.removeElement=o,n.updateTitle=function(e){r&&r.find("h2").text(e)},n.activateButton=function(e){r&&r.find(".fc-"+e+"-button").addClass(S+"-state-active")},n.deactivateButton=function(e){r&&r.find(".fc-"+e+"-button").removeClass(S+"-state-active")},n.disableButton=function(e){r&&r.find(".fc-"+e+"-button").prop("disabled",!0).addClass(S+"-state-disabled")},n.enableButton=function(e){r&&r.find(".fc-"+e+"-button").prop("disabled",!1).removeClass(S+"-state-disabled")},n.getViewsWithButtons=function(){return f},n.el=null;var r,S,f=[]}function Ct(){function n(r,t){var o,n;for("reset"===t?F=[]:"add"!==t&&(F=u(F,r)),o=0;o<r.length;o++)n=r[o],"pending"!==n._status&&B++,n._fetchId=(n._fetchId||0)+1,n._status="pending";for(o=0;o<r.length;o++)n=r[o],e(n,n._fetchId)}function e(t,e){o(t,function(n){var i,r,s,o=Fe.isArray(t.events);if(e===t._fetchId&&"rejected"!==t._status){if(t._status="resolved",n)for(i=0;i<n.length;i++)r=n[i],s=o?r:v(r,t),s&&F.push.apply(F,E(s));c()}})}function t(n){var t="pending"===n._status;n._status="rejected",t&&c()}function c(){B--,B||R(F)}function o(t,a){var e,n,i=zt.sourceFetchers;for(e=0;e<i.length;e++){if(n=i[e].call(C,t,H.clone(),T.clone(),C.options.timezone,a),!0===n)return;if("object"==("undefined"===typeof n?"undefined":babelHelpers.typeof(n)))return void o(n,a)}var s=t.events;if(s)Fe.isFunction(s)?(C.pushLoading(),s.call(C,H.clone(),T.clone(),C.options.timezone,function(e){a(e),C.popLoading()})):Fe.isArray(s)?a(s):a();else{var m=t.url;if(m){var l,u=t.success,d=t.error,c=t.complete;l=Fe.isFunction(t.data)?t.data():t.data;var h=Fe.extend({},l||{}),y=q(t.startParam,C.options.startParam),g=q(t.endParam,C.options.endParam),p=q(t.timezoneParam,C.options.timezoneParam);y&&(h[y]=H.format()),g&&(h[g]=T.format()),C.options.timezone&&"local"!=C.options.timezone&&(h[p]=C.options.timezone),C.pushLoading(),Fe.ajax(Fe.extend({},He,t,{data:h,success:function(t){t=t||[];var e=U(u,this,arguments);Fe.isArray(e)&&(t=e),a(t)},error:function(){U(d,this,arguments),a()},complete:function(){U(c,this,arguments),C.popLoading()}}))}else a()}}function r(t){var o,n,i=zt.sourceNormalizers;if(Fe.isFunction(t)||Fe.isArray(t)?o={events:t}:"string"==typeof t?o={url:t}:"object"==("undefined"===typeof t?"undefined":babelHelpers.typeof(t))&&(o=Fe.extend({},t)),o){for(o.className?"string"==typeof o.className&&(o.className=o.className.split(/\s+/)):o.className=[],Fe.isArray(o.events)&&(o.origArray=o.events,o.events=Fe.map(o.events,function(e){return v(e,o)})),n=0;n<i.length;n++)i[n].call(C,o);return o}}function i(r,e){var n;for(n=0;n<r.length;n++)t(r[n]);e?(x=[],F=[]):(x=Fe.grep(x,function(e){for(n=0;n<r.length;n++)if(e===r[n])return!1;return!0}),F=u(F,r)),R(F)}function a(n){return Fe.grep(x,function(e){return e.id&&e.id===n})[0]}function s(t){t?Fe.isArray(t)||(t=[t]):t=[];var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,l(t[e]));return n}function l(r){var e,t;for(e=0;e<x.length;e++)if(t=x[e],t===r)return[t];return t=a(r),t?[t]:Fe.grep(x,function(e){return d(r,e)})}function d(n,t){return n&&t&&g(n)==g(t)}function g(e){return("object"==("undefined"===typeof e?"undefined":babelHelpers.typeof(e))?e.origArray||e.googleCalendarId||e.url||e.events:null)||e}function u(t,r){return Fe.grep(t,function(n){for(var t=0;t<r.length;t++)if(n.source===r[t])return!1;return!0})}function p(t){var r={};return Fe.each(t,function(n,t){f(n)&&void 0!==t&&j(t)&&(r[n]=t)}),r}function f(e){return!/^_|^(id|allDay|start|end)$/.test(e)}function m(n){return Fe.isFunction(n)?Fe.grep(F,n):null==n?F:(n+="",Fe.grep(F,function(e){return e._id==n}))}function h(e){e.start=C.moment(e.start),e.end&&(e.end=C.moment(e.end)),Ht(e)}function v(e,t){var n,r,i,o={};if(C.options.eventDataTransform&&(e=C.options.eventDataTransform(e)),t&&t.eventDataTransform&&(e=t.eventDataTransform(e)),Fe.extend(o,e),t&&(o.source=t),o._id=e._id||(void 0===e.id?"_fc"+Te++:e.id+""),o.className=e.className?"string"==typeof e.className?e.className.split(/\s+/):e.className:[],n=e.start||e.date,r=e.end,O(n)&&(n=P.duration(n)),O(r)&&(r=P.duration(r)),e.dow||P.isDuration(n)||P.isDuration(r))o.start=n?P.duration(n):null,o.end=r?P.duration(r):null,o._recurring=!0;else{if(n&&(n=C.moment(n),!n.isValid()))return!1;r&&(r=C.moment(r),r.isValid()||(r=null)),i=e.allDay,void 0===i&&(i=q(t?t.allDayDefault:void 0,C.options.allDayDefault)),y(n,r,i,o)}return C.normalizeEvent(o),o}function y(r,t,e,n){n.start=r,n.end=t,n.allDay=e,S(n),Ht(n)}function S(e){w(e),e.end&&!e.end.isAfter(e.start)&&(e.end=null),e.end||(C.options.forceEventDuration?e.end=C.getDefaultEventEnd(e.allDay,e.start):e.end=null)}function w(e){null==e.allDay&&(e.allDay=!(e.start.hasTime()||e.end&&e.end.hasTime())),e.allDay?(e.start.stripTime(),e.end&&e.end.stripTime()):(e.start.hasTime()||(e.start=C.applyTimezone(e.start.time(0))),e.end&&!e.end.hasTime()&&(e.end=C.applyTimezone(e.end.time(0))))}function E(t,e,n){var i,r,s,o,l,g,p,d,c,m=[];if(e=e||H,n=n||T,t)if(t._recurring){if(r=t.dow)for(i={},s=0;s<r.length;s++)i[r[s]]=!0;for(o=e.clone().stripTime();o.isBefore(n);)i&&!i[o.day()]||(l=t.start,g=t.end,p=o.clone(),d=null,l&&(p=p.time(l)),g&&(d=o.clone().time(g)),c=Fe.extend({},t),y(p,d,!l&&!g,c),m.push(c)),o.add(1,"days")}else m.push(t);return m}function D(t,g,n){function e(r,t){return n?z(r,t,n):g.allDay?L(r,t):k(r,t)}var r,i,o,s,a,p,h={};return g=g||{},g.start||(g.start=t.start.clone()),void 0===g.end&&(g.end=t.end?t.end.clone():null),null==g.allDay&&(g.allDay=t.allDay),S(g),r={start:t._start.clone(),end:t._end?t._end.clone():C.getDefaultEventEnd(t._allDay,t._start),allDay:g.allDay},S(r),i=null!==t._end&&null===g.end,o=e(g.start,r.start),g.end?(s=e(g.end,r.end),a=s.subtract(o)):a=null,Fe.each(g,function(n,t){f(n)&&void 0!==t&&(h[n]=t)}),p=b(m(t._id),i,g.allDay,o,a,h),{dateDelta:o,durationDelta:a,undo:p}}function b(t,g,n,p,r,s){var o=C.getIsAmbigTimezone(),l=[];return p&&!p.valueOf()&&(p=null),r&&!r.valueOf()&&(r=null),Fe.each(t,function(t,e){var a,d;a={start:e.start.clone(),end:e.end?e.end.clone():null,allDay:e.allDay},Fe.each(s,function(n){a[n]=e[n]}),d={start:e._start,end:e._end,allDay:n},S(d),g?d.end=null:r&&!d.end&&(d.end=C.getDefaultEventEnd(d.allDay,d.start)),p&&(d.start.add(p),d.end&&d.end.add(p)),r&&d.end.add(r),o&&!d.allDay&&(p||r)&&(d.start.stripZone(),d.end&&d.end.stripZone()),Fe.extend(e,s,d),Ht(e),l.push(function(){Fe.extend(e,a),Ht(e)})}),function(){for(var e=0;e<l.length;e++)l[e]()}}var C=this;C.isFetchNeeded=function(n,t){return!H||n<H||t>T},C.fetchEvents=function(r,t){H=r,T=t,n(x,"reset")},C.fetchEventSources=n,C.getEventSources=function(){return x.slice(1)},C.getEventSourceById=a,C.getEventSourcesByMatchArray=s,C.getEventSourcesByMatch=l,C.addEventSource=function(i){var t=r(i);t&&(x.push(t),n([t],"add"))},C.removeEventSource=function(e){i(l(e))},C.removeEventSources=function(e){null==e?i(x,!0):i(s(e))},C.updateEvent=function(e){e.start=C.moment(e.start),e.end=e.end?C.moment(e.end):null,D(e,p(e)),R(F)},C.renderEvent=function(o,t){var e,n,i,r=v(o);if(r){for(e=E(r),n=0;n<e.length;n++)i=e[n],i.source||(t&&(I.events.push(i),i.source=I),F.push(i));return R(F),e}return[]},C.removeEvents=function(t){var e,n;for(null==t?t=function(){return!0}:Fe.isFunction(t)||(e=t+"",t=function(n){return n._id==e}),F=Fe.grep(F,t,!0),n=0;n<x.length;n++)Fe.isArray(x[n].events)&&(x[n].events=Fe.grep(x[n].events,t,!0));R(F)},C.clientEvents=m,C.mutateEvent=D,C.normalizeEventDates=S,C.normalizeEventTimes=w;var H,T,R=C.reportEvents,I={events:[]},x=[I],B=0,F=[];Fe.each((C.options.events?[C.options.events]:[]).concat(C.options.eventSources||[]),function(i,t){var e=r(t);e&&x.push(e)}),C.rezoneArrayEventSources=function(){var t,e,n;for(t=0;t<x.length;t++)if(e=x[t].events,Fe.isArray(e))for(n=0;n<e.length;n++)h(e[n])},C.buildEventFromInput=v,C.expandEvent=E,C.getEventCache=function(){return F}}function Ht(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}var Tt=Math.ceil,Rt=Math.abs,It=Math.round,xt=Math.min,kt=Math.max,Lt=Math.floor,zt=Fe.fullCalendar={version:"3.0.1",internalApiVersion:6},Bt=zt.views={};Fe.fn.fullCalendar=function(t){var d=Array.prototype.slice.call(arguments,1),n=this;return this.each(function(i,r){var s,o=Fe(r),l=o.data("fullCalendar");"string"==typeof t?l&&Fe.isFunction(l[t])&&(s=l[t].apply(l,d),i||(n=s),"destroy"===t&&o.removeData("fullCalendar")):l||(l=new we(o,t),o.data("fullCalendar",l),l.render())}),n};var Ft=["header","buttonText","buttonIcons","themeButtonIcons"];zt.intersectRanges=x,zt.applyAll=U,zt.debounce=We,zt.isInt=_e,zt.htmlEscape=Z,zt.cssToStr=K,zt.proxy=Ye,zt.capitaliseFirstLetter=$,zt.getOuterRect=o,zt.getClientRect=a,zt.getContentRect=function(o,t){var e=o.offset(),n=e.left+c(o,"border-left-width")+c(o,"padding-left")-(t?t.left:0),a=e.top+c(o,"border-top-width")+c(o,"padding-top")-(t?t.top:0);return{left:n,right:n+o.width(),top:a,bottom:a+o.height()}},zt.getScrollbarWidths=l;var Nt=null;zt.preventDefault=v,zt.intersectRects=w,zt.parseFieldSpecs=H,zt.compareByFieldSpecs=T,zt.compareByFieldSpec=R,zt.flexibleCompare=I,zt.computeIntervalUnit=B,zt.divideRangeByDuration=function(r,t,e){var n;return G(e)?(t-r)/e:(n=e.asMonths(),1<=Rt(n)&&_e(n)?t.diff(r,"months",!0)/n:t.diff(r,"days",!0)/e.asDays())},zt.divideDurationByDuration=N,zt.multiplyDuration=function(e,t){var n;return G(e)?P.duration(e*t):(n=e.asMonths(),1<=Rt(n)&&_e(n)?P.duration({months:n*t}):P.duration({days:e.asDays()*t}))},zt.durationHasTime=G;var Gt=["sun","mon","tue","wed","thu","fri","sat"],Mt=["year","month","week","day","hour","minute","second","millisecond"];zt.log=function(){var e=window.console;if(e&&e.log)return e.log.apply(e,arguments)},zt.warn=function(){var e=window.console;return e&&e.warn?e.warn.apply(e,arguments):zt.log.apply(zt,arguments)};var Ot={}.hasOwnProperty,At=/^\s*\d{4}-\d\d$/,Vt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Pt=P.fn,te=Fe.extend({},Pt),ee=P.momentProperties;ee.push("_fullCalendar"),ee.push("_ambigTime"),ee.push("_ambigZone"),zt.moment=function(){return Ue(arguments)},zt.moment.utc=function(){var e=Ue(arguments,!0);return e.hasTime()&&e.utc(),e},zt.moment.parseZone=function(){return Ue(arguments,!0,!0)},Pt.week=Pt.weeks=function(n){var t=this._locale._fullCalendar_weekCalc;return null==n&&"function"==typeof t?t(this):"ISO"===t?te.isoWeek.apply(this,arguments):te.week.apply(this,arguments)},Pt.time=function(e){if(!this._fullCalendar)return te.time.apply(this,arguments);if(null==e)return P.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,P.isDuration(e)||P.isMoment(e)||(e=P.duration(e));var t=0;return P.isDuration(e)&&(t=24*Lt(e.asDays())),this.hours(t+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},Pt.stripTime=function(){return this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigTime=!0,this._ambigZone=!0),this},Pt.hasTime=function(){return!this._ambigTime},Pt.stripZone=function(){var e;return this._ambigZone||(e=this._ambigTime,this.utc(!0),this._ambigTime=e||!1,this._ambigZone=!0),this},Pt.hasZone=function(){return!this._ambigZone},Pt.local=function(e){return te.local.call(this,this._ambigZone||e),this._ambigTime=!1,this._ambigZone=!1,this},Pt.utc=function(e){return te.utc.call(this,e),this._ambigTime=!1,this._ambigZone=!1,this},Pt.utcOffset=function(e){return null!=e&&(this._ambigTime=!1,this._ambigZone=!1),te.utcOffset.apply(this,arguments)},Pt.format=function(){return this._fullCalendar&&arguments[0]?Ze(this,arguments[0]):this._ambigTime?qe(this,"YYYY-MM-DD"):this._ambigZone?qe(this,"YYYY-MM-DD[T]HH:mm:ss"):te.format.apply(this,arguments)},Pt.toISOString=function(){return this._ambigTime?qe(this,"YYYY-MM-DD"):this._ambigZone?qe(this,"YYYY-MM-DD[T]HH:mm:ss"):te.toISOString.apply(this,arguments)};var ne={t:function(e){return qe(e,"a").charAt(0)},T:function(e){return qe(e,"A").charAt(0)}};zt.formatRange=Qe;var ie={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},re={},se={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};zt.queryMostGranularFormatUnit=function(o){var t,e,n,i,a=et(o);for(t=0;t<a.length;t++)e=a[t],e.token&&(n=se[e.token.charAt(0)],n&&(!i||n.value>i.value)&&(i=n));return i?i.unit:null},zt.Class=nt,nt.extend=function(){var r,t,e=arguments.length;for(r=0;r<e;r++)t=arguments[r],r<e-1&&it(this,t);return rt(this,t||{})},nt.mixin=function(e){it(this,e)};var oe=zt.EmitterMixin={on:function(t,r){var e=function(n,t){return r.apply(t.context||this,t.args||[])};return r.guid||(r.guid=Fe.guid++),e.guid=r.guid,Fe(this).on(t,e),this},off:function(t,e){return Fe(this).off(t,e),this},trigger:function(t){var e=Array.prototype.slice.call(arguments,1);return Fe(this).triggerHandler(t,{args:e}),this},triggerWith:function(t,e,r){return Fe(this).triggerHandler(t,{context:e,args:r}),this}},le=zt.ListenerMixin=function(){var t=0;return{listenerId:null,listenTo:function(t,e,o){if("object"==("undefined"===typeof e?"undefined":babelHelpers.typeof(e)))for(var i in e)e.hasOwnProperty(i)&&this.listenTo(t,i,e[i]);else"string"==typeof e&&t.on(e+"."+this.getListenerNamespace(),Fe.proxy(o,this))},stopListeningTo:function(n,t){n.off((t||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=t++),"_listener"+this.listenerId}}}(),ae={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(e){this.delayUnignoreMouse=We(Ye(this,"unignoreMouse"),e||1e3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0,this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},ue=nt.extend(le,{isHidden:!0,options:null,el:null,margin:10,constructor:function(e){this.options=e||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,e=this.options;this.el=Fe("<div class=\"fc-popover\"/>").addClass(e.className||"").css({top:0,left:0}).append(e.content).appendTo(e.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),e.autoHide&&this.listenTo(Fe(document),"mousedown",this.documentMousedown)},documentMousedown:function(t){this.el&&!Fe(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(Fe(document),"mousedown")},position:function(){var t,e,n,i,r,s=this.options,o=this.el.offsetParent().offset(),l=this.el.outerWidth(),a=this.el.outerHeight(),c=Fe(window),d=Pe(this.el);i=s.top||0,r=void 0===s.left?void 0===s.right?0:s.right-l:s.left,d.is(window)||d.is(document)?(d=c,t=0,e=0):(n=d.offset(),t=n.top,e=n.left),t+=c.scrollTop(),e+=c.scrollLeft(),!1!==s.viewportConstrain&&(i=xt(i,t+d.outerHeight()-a-this.margin),i=kt(i,t+this.margin),r=xt(r,e+d.outerWidth()-l-this.margin),r=kt(r,e+this.margin)),this.el.css({top:i-o.top,left:r-o.left})},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),de=zt.CoordCache=nt.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(t){this.els=Fe(t.els),this.isHorizontal=t.isHorizontal,this.isVertical=t.isVertical,this.forcedOffsetParentEl=t.offsetParent?Fe(t.offsetParent):null},build:function(){var e=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=e.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},buildElHorizontals:function(){var t=[],e=[];this.els.each(function(n,i){var r=Fe(i),a=r.offset().left,o=r.outerWidth();t.push(a),e.push(a+o)}),this.lefts=t,this.rights=e},buildElVerticals:function(){var t=[],e=[];this.els.each(function(n,i){var r=Fe(i),a=r.offset().top,o=r.outerHeight();t.push(a),e.push(a+o)}),this.tops=t,this.bottoms=e},getHorizontalIndex:function(o){this.ensureBuilt();var t,e=this.lefts,n=this.rights,i=e.length;for(t=0;t<i;t++)if(o>=e[t]&&o<n[t])return t},getVerticalIndex:function(o){this.ensureBuilt();var t,e=this.tops,n=this.bottoms,i=e.length;for(t=0;t<i;t++)if(o>=e[t]&&o<n[t])return t},getLeftOffset:function(e){return this.ensureBuilt(),this.lefts[e]},getLeftPosition:function(e){return this.ensureBuilt(),this.lefts[e]-this.origin.left},getRightOffset:function(e){return this.ensureBuilt(),this.rights[e]},getRightPosition:function(e){return this.ensureBuilt(),this.rights[e]-this.origin.left},getWidth:function(e){return this.ensureBuilt(),this.rights[e]-this.lefts[e]},getTopOffset:function(e){return this.ensureBuilt(),this.tops[e]},getTopPosition:function(e){return this.ensureBuilt(),this.tops[e]-this.origin.top},getBottomOffset:function(e){return this.ensureBuilt(),this.bottoms[e]},getBottomPosition:function(e){return this.ensureBuilt(),this.bottoms[e]-this.origin.top},getHeight:function(e){return this.ensureBuilt(),this.bottoms[e]-this.tops[e]},queryBoundingRect:function(){var e=Pe(this.els.eq(0));if(!e.is(document))return a(e)},isPointInBounds:function(n,t){return this.isLeftInBounds(n)&&this.isTopInBounds(t)},isLeftInBounds:function(e){return!this.boundingRect||e>=this.boundingRect.left&&e<this.boundingRect.right},isTopInBounds:function(e){return!this.boundingRect||e>=this.boundingRect.top&&e<this.boundingRect.bottom}}),ce=zt.DragListener=nt.extend(le,ae,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(e){this.options=e||{},this.handleTouchScrollProxy=Ye(this,"handleTouchScroll"),this.initMouseIgnoring(500)},startInteraction:function(t,e){var n=m(t);if("mousedown"===t.type){if(this.isIgnoringMouse)return;if(!u(t))return;t.preventDefault()}this.isInteracting||(e=e||{},this.delay=q(e.delay,this.options.delay,0),this.minDistance=q(e.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=n,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=p(t),this.originY=f(t),this.scrollEl=Pe(Fe(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},handleInteractionStart:function(e){this.trigger("interactionStart",e)},endInteraction:function(n,t){this.isInteracting&&(this.endDrag(n),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(n,t),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(n,t){this.trigger("interactionEnd",n,t||!1)},bindHandlers:function(){var r=this,e=1;this.isTouch?(this.listenTo(Fe(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(n){e?e--:r.endInteraction(n,!0)}}),!y(this.handleTouchScrollProxy)&&this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(Fe(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(Fe(document),{selectstart:v,contextmenu:v})},unbindHandlers:function(){this.stopListeningTo(Fe(document)),S(this.handleTouchScrollProxy),this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(n,t){this.startInteraction(n,t),this.isDragging||(this.isDragging=!0,this.handleDragStart(n))},handleDragStart:function(e){this.trigger("dragStart",e)},handleMove:function(o){var t,e=p(o)-this.originX,n=f(o)-this.originY,i=this.minDistance;this.isDistanceSurpassed||(t=e*e+n*n,t>=i*i&&this.handleDistanceSurpassed(o)),this.isDragging&&this.handleDrag(e,n,o)},handleDrag:function(r,t,e){this.trigger("drag",r,t,e),this.updateAutoScroll(e)},endDrag:function(e){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(e))},handleDragEnd:function(e){this.trigger("dragEnd",e)},startDelay:function(n){var t=this;this.delay?this.delayTimeoutId=setTimeout(function(){t.handleDelayEnd(n)},this.delay):this.handleDelayEnd(n)},handleDelayEnd:function(e){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(e)},handleDistanceSurpassed:function(e){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(e)},handleTouchMove:function(e){this.isDragging&&e.preventDefault(),this.handleMove(e)},handleMouseMove:function(e){this.handleMove(e)},handleTouchScroll:function(e){this.isDragging||this.endInteraction(e,!0)},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+e]&&this["_"+e].apply(this,Array.prototype.slice.call(arguments,1))}});ce.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var e=this.scrollEl;this.isAutoScroll=this.options.scroll&&e&&!e.is(window)&&!e.is(document),this.isAutoScroll&&this.listenTo(e,"scroll",We(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=o(this.scrollEl))},updateAutoScroll:function(d){var t,e,n,i,r=this.scrollSensitivity,s=this.scrollBounds,o=0,l=0;s&&(t=(r-(f(d)-s.top))/r,e=(r-(s.bottom-f(d)))/r,n=(r-(p(d)-s.left))/r,i=(r-(s.right-p(d)))/r,0<=t&&1>=t?o=-1*(t*this.scrollSpeed):0<=e&&1>=e&&(o=e*this.scrollSpeed),0<=n&&1>=n?l=-1*(n*this.scrollSpeed):0<=i&&1>=i&&(l=i*this.scrollSpeed)),this.setScrollVel(o,l)},setScrollVel:function(n,t){this.scrollTopVel=n,this.scrollLeftVel=t,this.constrainScrollVel(),(this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId&&(this.scrollIntervalId=setInterval(Ye(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var e=this.scrollEl;0>this.scrollTopVel?0>=e.scrollTop()&&(this.scrollTopVel=0):0<this.scrollTopVel&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),0>this.scrollLeftVel?0>=e.scrollLeft()&&(this.scrollLeftVel=0):0<this.scrollLeftVel&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var n=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&n.scrollTop(n.scrollTop()+this.scrollTopVel*t),this.scrollLeftVel&&n.scrollLeft(n.scrollLeft()+this.scrollLeftVel*t),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var he=ce.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(n,t){ce.call(this,t),this.component=n},handleInteractionStart:function(a){var t,e,n,i=this.subjectEl;this.computeCoords(),a?(e={left:p(a),top:f(a)},n=e,i&&(t=o(i),n=E(n,t)),this.origHit=this.queryHit(n.left,n.top),i&&this.options.subjectCenter&&(this.origHit&&(t=w(this.origHit,t)||t),n=D(t)),this.coordAdjust=b(n,e)):(this.origHit=null,this.coordAdjust=null),ce.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},handleDragStart:function(n){var t;ce.prototype.handleDragStart.apply(this,arguments),t=this.queryHit(p(n),f(n)),t&&this.handleHitOver(t)},handleDrag:function(r,t,e){var n;ce.prototype.handleDrag.apply(this,arguments),n=this.queryHit(p(e),f(e)),ot(n,this.hit)||(this.hit&&this.handleHitOut(),n&&this.handleHitOver(n))},handleDragEnd:function(){this.handleHitDone(),ce.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(n){var t=ot(n,this.origHit);this.hit=n,this.trigger("hitOver",this.hit,t,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){ce.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},handleScrollEnd:function(){ce.prototype.handleScrollEnd.apply(this,arguments),this.computeCoords()},queryHit:function(n,t){return this.coordAdjust&&(n+=this.coordAdjust.left,t+=this.coordAdjust.top),this.component.queryHit(n,t)}}),fe=nt.extend(le,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,e){this.options=e=e||{},this.sourceEl=t,this.parentEl=e.parentEl?Fe(e.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.y0=f(t),this.x0=p(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),m(t)?this.listenTo(Fe(document),"touchmove",this.handleMove):this.listenTo(Fe(document),"mousemove",this.handleMove))},stop:function(t,e){function n(){o.isAnimating=!1,o.removeElement(),o.top0=o.left0=null,e&&e()}var o=this,r=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(Fe(document)),t&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:n})):n())},getEl:function(){var e=this.el;return e||(e=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),e.addClass("fc-unselectable"),e.appendTo(this.parentEl)),e},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var n,t;this.getEl(),null===this.top0&&(n=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=n.top-t.top,this.left0=n.left-t.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(e){this.topDelta=f(e)-this.y0,this.leftDelta=p(e)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),ge=zt.Grid=nt.extend(le,ae,{hasDayInteractions:!0,view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(e){this.view=e,this.isRTL=e.opt("isRTL"),this.elsByFill={},this.dayDragListener=this.buildDayDragListener(),this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(e){this.start=e.start.clone(),this.end=e.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var r,t,e=this.view;this.eventTimeFormat=e.opt("eventTimeFormat")||e.opt("timeFormat")||this.computeEventTimeFormat(),r=e.opt("displayEventTime"),null==r&&(r=this.computeDisplayEventTime()),t=e.opt("displayEventEnd"),null==t&&(t=this.computeDisplayEventEnd()),this.displayEventTime=r,this.displayEventEnd=t},spanToSegs:function(){},diffDates:function(n,t){return this.largeUnit?z(n,t,this.largeUnit):k(n,t)},prepareHits:function(){},releaseHits:function(){},queryHit:function(){},getHitSpan:function(){},getHitEl:function(){},setElement:function(e){this.el=e,this.hasDayInteractions&&(h(e),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown)),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(t,r){var n=this;this.el.on(t,function(t){if(!Fe(t.target).is(n.segSelector+","+n.segSelector+" *,.fc-more,a[data-goto]"))return r.call(n,t)})},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(Fe(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(Fe(document))},dayMousedown:function(e){this.isIgnoringMouse||this.dayDragListener.startInteraction(e,{})},dayTouchStart:function(n){var t=this.view;(t.isSelected||t.selectedEvent)&&this.tempIgnoreMouse(),this.dayDragListener.startInteraction(n,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var a,t,d=this,n=this.view,s=n.opt("selectable"),r=new he(this,{scroll:n.opt("dragScroll"),interactionStart:function(){a=r.origHit,t=null},dragStart:function(){n.unselect()},hitOver:function(e,n,r){r&&(n||(a=null),s&&(t=d.computeSelection(d.getHitSpan(r),d.getHitSpan(e)),t?d.renderSelection(t):!1===t&&Oe()))},hitOut:function(){a=null,t=null,d.unrenderSelection()},hitDone:function(){e()},interactionEnd:function(e,r){r||(a&&!d.isIgnoringMouse&&n.triggerDayClick(d.getHitSpan(a),d.getHitEl(a),e),t&&n.reportSelection(t,e))}});return r},clearDragListeners:function(){this.dayDragListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(r,t){var e=this.fabricateHelperEvent(r,t);return this.renderHelper(e,t)},fabricateHelperEvent:function(r,t){var e=t?V(t.event):{};return e.start=r.start.clone(),e.end=r.end?r.end.clone():null,e.allDay=null,this.view.calendar.normalizeEventDates(e),e.className=(e.className||[]).concat("fc-helper"),t||(e.editable=!1),e},renderHelper:function(){},unrenderHelper:function(){},renderSelection:function(e){this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(r,t){var e=this.computeSelectionSpan(r,t);return(!e||this.view.calendar.isSelectionSpanAllowed(e))&&e},computeSelectionSpan:function(r,t){var e=[r.start,r.end,t.start,t.end];return e.sort(J),{start:e[0].clone(),end:e[3].clone()}},renderHighlight:function(e){this.renderFill("highlight",this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},renderFill:function(){},unrenderFill:function(n){var t=this.elsByFill[n];t&&(t.remove(),delete this.elsByFill[n])},renderFillSegEls:function(t,d){var e,n=this,r=this[t+"SegEl"],i="",s=[];if(d.length){for(e=0;e<d.length;e++)i+=this.fillSegHtml(t,d[e]);Fe(i).each(function(t,e){var i=d[t],o=Fe(e);r&&(o=r.call(n,i,o)),o&&(o=Fe(o),o.is(n.fillSegTag)&&(i.el=o,s.push(i)))})}return s},fillSegTag:"div",fillSegHtml:function(o,t){var e=this[o+"SegClasses"],n=this[o+"SegCss"],i=e?e.call(this,t):[],r=K(n?n.call(this,t):{});return"<"+this.fillSegTag+(i.length?" class=\""+i.join(" ")+"\"":"")+(r?" style=\""+r+"\"":"")+" />"},getDayClasses:function(r){var t=this.view,e=t.calendar.getNow(),n=["fc-"+Gt[r.day()]];return 1==t.intervalDuration.as("months")&&r.month()!=t.intervalStart.month()&&n.push("fc-other-month"),r.isSame(e,"day")?n.push("fc-today",t.highlightStateClass):r<e?n.push("fc-past"):n.push("fc-future"),n}});ge.mixin({segSelector:".fc-event-container > *",mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(r){var t,e=[],n=[];for(t=0;t<r.length;t++)(lt(r[t])?e:n).push(r[t]);this.segs=[].concat(this.renderBgEvents(e),this.renderFgEvents(n))},renderBgEvents:function(n){var t=this.eventsToSegs(n);return this.renderBgSegs(t)||t},renderFgEvents:function(n){var t=this.eventsToSegs(n);return this.renderFgSegs(t)||t},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},unrenderFgSegs:function(){},renderFgSegEls:function(t,e){var n,a=this.view,r="",d=[];if(t.length){for(n=0;n<t.length;n++)r+=this.fgSegHtml(t[n],e);Fe(r).each(function(e,n){var r=t[e],i=a.resolveEventEl(r.event,Fe(n));i&&(i.data("fc-seg",r),r.el=i,d.push(r))})}return d},fgSegHtml:function(){},renderBgSegs:function(e){return this.renderFill("bgEvent",e)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(n,t){return this.view.resolveEventEl(n.event,t)},bgEventSegClasses:function(r){var t=r.event,e=t.source||{};return["fc-bgevent"].concat(t.className,e.className||[])},bgEventSegCss:function(e){return{"background-color":this.getSegSkinCss(e)["background-color"]}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(t){var e=this.view.calendar.getCurrentBusinessHourEvents(t);return!e.length&&this.view.calendar.options.businessHours&&(e=[Fe.extend({},xe,{start:this.view.end,end:this.view.end,dow:null})]),this.eventsToSegs(e)},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(e){this.bindSegHandlerToEl(e,"touchstart",this.handleSegTouchStart),this.bindSegHandlerToEl(e,"touchend",this.handleSegTouchEnd),this.bindSegHandlerToEl(e,"mouseenter",this.handleSegMouseover),this.bindSegHandlerToEl(e,"mouseleave",this.handleSegMouseout),this.bindSegHandlerToEl(e,"mousedown",this.handleSegMousedown),this.bindSegHandlerToEl(e,"click",this.handleSegClick)},bindSegHandlerToEl:function(t,e,o){var i=this;t.on(e,this.segSelector,function(t){var e=Fe(this).data("fc-seg");if(e&&!i.isDraggingSeg&&!i.isResizingSeg)return o.call(i,e,t)})},handleSegClick:function(r,t){var e=this.view.trigger("eventClick",r.el[0],r.event,t);!1===e&&t.preventDefault()},handleSegMouseover:function(n,t){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=n,this.view.isEventResizable(n.event)&&n.el.addClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseover",n.el[0],n.event,t))},handleSegMouseout:function(n,t){t=t||{},this.mousedOverSeg&&(n=n||this.mousedOverSeg,this.mousedOverSeg=null,this.view.isEventResizable(n.event)&&n.el.removeClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseout",n.el[0],n.event,t))},handleSegMousedown:function(r,t){var e=this.startSegResize(r,t,{distance:5});!e&&this.view.isEventDraggable(r.event)&&this.buildSegDragListener(r).startInteraction(t,{distance:5})},handleSegTouchStart:function(d,t){var e,n=this.view,i=d.event,r=n.isEventSelected(i),s=n.isEventDraggable(i),o=n.isEventResizable(i),l=!1;r&&o&&(l=this.startSegResize(d,t)),!l&&(s||o)&&(e=s?this.buildSegDragListener(d):this.buildSegSelectListener(d),e.startInteraction(t,{delay:r?0:this.view.opt("longPressDelay")})),this.tempIgnoreMouse()},handleSegTouchEnd:function(){this.tempIgnoreMouse()},startSegResize:function(t,e,n){return!!Fe(e.target).is(".fc-resizer")&&(this.buildSegResizeListener(t,Fe(e.target).is(".fc-start-resizer")).startInteraction(e,n),!0)},buildSegDragListener:function(g){var t,p,n,f=this,r=this.view,s=r.calendar,o=g.el,a=g.event;if(this.segDragListener)return this.segDragListener;var l=this.segDragListener=new he(r,{scroll:r.opt("dragScroll"),subjectEl:o,subjectCenter:!0,interactionStart:function(e){g.component=f,t=!1,p=new fe(g.el,{additionalClass:"fc-dragging",parentEl:r.el,opacity:l.isTouch?null:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2}),p.hide(),p.start(e)},dragStart:function(e){l.isTouch&&!r.isEventSelected(a)&&r.selectEvent(a),t=!0,f.handleSegMouseout(g,e),f.segDragStart(g,e),r.hideEvent(a)},hitOver:function(t,e,i){var o;g.hit&&(i=g.hit),n=f.computeEventDrop(i.component.getHitSpan(i),t.component.getHitSpan(t),a),n&&!s.isEventSpanAllowed(f.eventToSpan(n),a)&&(Oe(),n=null),n&&(o=r.renderDrag(n,g))?(o.addClass("fc-dragging"),l.isTouch||f.applyDragOpacity(o),p.hide()):p.show(),e&&(n=null)},hitOut:function(){r.unrenderDrag(),p.show(),n=null},hitDone:function(){e()},interactionEnd:function(e){delete g.component,p.stop(!n,function(){t&&(r.unrenderDrag(),r.showEvent(a),f.segDragStop(g,e)),n&&r.reportEventDrop(a,n,this.largeUnit,o,e)}),f.segDragListener=null}});return l},buildSegSelectListener:function(o){var t=this,e=this.view,n=o.event;if(this.segDragListener)return this.segDragListener;var i=this.segDragListener=new ce({dragStart:function(){i.isTouch&&!e.isEventSelected(n)&&e.selectEvent(n)},interactionEnd:function(){t.segDragListener=null}});return i},segDragStart:function(n,t){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",n.el[0],n.event,t,{})},segDragStop:function(n,t){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",n.el[0],n.event,t,{})},computeEventDrop:function(a,t,e){var n,i,r=this.view.calendar,s=a.start,o=t.start;return s.hasTime()===o.hasTime()?(n=this.diffDates(o,s),e.allDay&&G(n)?(i={start:e.start.clone(),end:r.getEventEnd(e),allDay:!1},r.normalizeEventTimes(i)):i=st(e),i.start.add(n),i.end&&i.end.add(n)):i={start:o.clone(),end:null,allDay:!o.hasTime()},i},applyDragOpacity:function(n){var t=this.view.opt("dragOpacity");null!=t&&n.css("opacity",t)},externalDragStart:function(t,e){var n,i,r=this.view;r.opt("droppable")&&(n=Fe((e?e.item:null)||t.target),i=r.opt("dropAccept"),(Fe.isFunction(i)?i.call(n[0],n):n.is(i))&&(this.isDraggingExternal||this.listenToExternalDrag(n,t,e)))},listenToExternalDrag:function(o,t,s){var n,i=this,r=this.view.calendar,l=pt(o),a=i.externalDragListener=new he(this,{interactionStart:function(){i.isDraggingExternal=!0},hitOver:function(e){n=i.computeExternalDrop(e.component.getHitSpan(e),l),n&&!r.isExternalSpanAllowed(i.eventToSpan(n),n,l.eventProps)&&(Oe(),n=null),n&&i.renderDrag(n)},hitOut:function(){n=null},hitDone:function(){e(),i.unrenderDrag()},interactionEnd:function(t){n&&i.view.reportExternalDrop(l,n,o,t,s),i.isDraggingExternal=!1,i.externalDragListener=null}});a.startDrag(t)},computeExternalDrop:function(r,t){var e=this.view.calendar,n={start:e.applyTimezone(r.start),end:null};return t.startTime&&!n.start.hasTime()&&n.start.time(t.startTime),t.duration&&(n.end=n.start.clone().add(t.duration)),n},renderDrag:function(){},unrenderDrag:function(){},buildSegResizeListener:function(s,t){var o,g,i=this,r=this.view,l=r.calendar,n=s.el,a=s.event,d=l.getEventEnd(a),c=this.segResizeListener=new he(this,{scroll:r.opt("dragScroll"),subjectEl:n,interactionStart:function(){o=!1},dragStart:function(t){o=!0,i.handleSegMouseout(s,t),i.segResizeStart(s,t)},hitOver:function(e,n,o){var c=i.getHitSpan(o),u=i.getHitSpan(e);g=t?i.computeEventStartResize(c,u,a):i.computeEventEndResize(c,u,a),g&&(l.isEventSpanAllowed(i.eventToSpan(g),a)?g.start.isSame(a.start.clone().stripZone())&&g.end.isSame(d.clone().stripZone())&&(g=null):(Oe(),g=null)),g&&(r.hideEvent(a),i.renderEventResize(g,s))},hitOut:function(){g=null},hitDone:function(){i.unrenderEventResize(),r.showEvent(a),e()},interactionEnd:function(t){o&&i.segResizeStop(s,t),g&&r.reportEventResize(a,g,this.largeUnit,n,t),i.segResizeListener=null}});return c},segResizeStart:function(n,t){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",n.el[0],n.event,t,{})},segResizeStop:function(n,t){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",n.el[0],n.event,t,{})},computeEventStartResize:function(r,t,e){return this.computeEventResize("start",r,t,e)},computeEventEndResize:function(r,t,e){return this.computeEventResize("end",r,t,e)},computeEventResize:function(a,t,e,n){var i,r,s=this.view.calendar,o=this.diffDates(e[a],t[a]);return i={start:n.start.clone(),end:s.getEventEnd(n),allDay:n.allDay},i.allDay&&G(o)&&(i.allDay=!1,s.normalizeEventTimes(i)),i[a].add(o),i.start.isBefore(i.end)||(r=this.minResizeDuration||(n.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration),"start"==a?i.start=i.end.clone().subtract(r):i.end=i.start.clone().add(r)),i},renderEventResize:function(){},unrenderEventResize:function(){},getEventTimeText:function(r,t,e){return null==t&&(t=this.eventTimeFormat),null==e&&(e=this.displayEventEnd),this.displayEventTime&&r.start.hasTime()?e&&r.end?this.view.formatRange(r,t):r.start.format(t):""},getSegClasses:function(o,t,e){var n=this.view,i=["fc-event",o.isStart?"fc-start":"fc-not-start",o.isEnd?"fc-end":"fc-not-end"].concat(this.getSegCustomClasses(o));return t&&i.push("fc-draggable"),e&&i.push("fc-resizable"),n.isEventSelected(o.event)&&i.push("fc-selected"),i},getSegCustomClasses:function(n){var t=n.event;return[].concat(t.className,t.source?t.source.className:[])},getSegSkinCss:function(e){return{"background-color":this.getSegBackgroundColor(e),"border-color":this.getSegBorderColor(e),color:this.getSegTextColor(e)}},getSegBackgroundColor:function(e){return e.event.backgroundColor||e.event.color||this.getSegDefaultBackgroundColor(e)},getSegDefaultBackgroundColor:function(n){var t=n.event.source||{};return t.backgroundColor||t.color||this.view.opt("eventBackgroundColor")||this.view.opt("eventColor")},getSegBorderColor:function(e){return e.event.borderColor||e.event.color||this.getSegDefaultBorderColor(e)},getSegDefaultBorderColor:function(n){var t=n.event.source||{};return t.borderColor||t.color||this.view.opt("eventBorderColor")||this.view.opt("eventColor")},getSegTextColor:function(e){return e.event.textColor||this.getSegDefaultTextColor(e)},getSegDefaultTextColor:function(n){var t=n.event.source||{};return t.textColor||this.view.opt("eventTextColor")},eventToSegs:function(e){return this.eventsToSegs([e])},eventToSpan:function(e){return this.eventToSpans(e)[0]},eventToSpans:function(n){var t=this.eventToRange(n);return this.eventRangeToSpans(t,n)},eventsToSegs:function(t,a){var n=this,e=gt(t),i=[];return Fe.each(e,function(s,t){var e,r=[];for(e=0;e<t.length;e++)r.push(n.eventToRange(t[e]));if(dt(t[0]))for(r=n.invertRanges(r),e=0;e<r.length;e++)i.push.apply(i,n.eventRangeToSegs(r[e],t[0],a));else for(e=0;e<r.length;e++)i.push.apply(i,n.eventRangeToSegs(r[e],t[e],a))}),i},eventToRange:function(r){var t=this.view.calendar,e=r.start.clone().stripZone(),o=(r.end?r.end.clone():t.getDefaultEventEnd(null==r.allDay?!r.start.hasTime():r.allDay,r.start)).stripZone();return t.localizeMoment(e),t.localizeMoment(o),{start:e,end:o}},eventRangeToSegs:function(o,t,e){var n,i=this.eventRangeToSpans(o,t),r=[];for(n=0;n<i.length;n++)r.push.apply(r,this.eventSpanToSegs(i[n],t,e));return r},eventRangeToSpans:function(t){return[Fe.extend({},t)]},eventSpanToSegs:function(o,t,e){var n,i,r=e?e(o):this.spanToSegs(o);for(n=0;n<r.length;n++)i=r[n],i.event=t,i.eventStartMS=+o.start,i.eventDurationMS=o.end-o.start;return r},invertRanges:function(a){var t,e,n=this.view,i=n.start.clone(),r=n.end.clone(),d=[],o=i;for(a.sort(ut),t=0;t<a.length;t++)e=a[t],e.start>o&&d.push({start:o,end:e.start}),o=e.end;return o<r&&d.push({start:o,end:r}),d},sortEventSegs:function(e){e.sort(Ye(this,"compareEventSegs"))},compareEventSegs:function(n,t){return n.eventStartMS-t.eventStartMS||t.eventDurationMS-n.eventDurationMS||t.event.allDay-n.event.allDay||T(n.event,t.event,this.view.eventOrderSpecs)}}),zt.pluckEventDateProps=st,zt.isBgEvent=lt,zt.dataAttrPrefix="";var pe=zt.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var a,t,e,n=this.view,i=this.start.clone(),r=-1,s=[],o=[];i.isBefore(this.end);)n.isHiddenDay(i)?s.push(r+.5):(r++,s.push(r),o.push(i.clone())),i.add(1,"days");if(this.breakOnWeeks){for(t=o[0].day(),a=1;a<o.length&&o[a].day()!=t;a++);e=Tt(o.length/a)}else e=1,a=o.length;this.dayDates=o,this.dayIndices=s,this.daysPerRow=a,this.rowCnt=e,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(n,t){return this.dayDates[this.getCellDayIndex(n,t)].clone()},getCellRange:function(r,t){var e=this.getCellDate(r,t),o=e.clone().add(1,"days");return{start:e,end:o}},getCellDayIndex:function(n,t){return n*this.daysPerRow+this.getColDayIndex(t)},getColDayIndex:function(e){return this.isRTL?this.colCnt-1-e:e},getDateDayIndex:function(r){var t=this.dayIndices,e=r.diff(this.start,"days");return 0>e?t[0]-1:e>=t.length?t[t.length-1]+1:t[e]},computeColHeadFormat:function(){return 1<this.rowCnt||10<this.colCnt?"ddd":1<this.colCnt?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(c){var t,g,n,i,r,s=this.daysPerRow,o=this.view.computeDayRange(c),l=this.getDateDayIndex(o.start),a=this.getDateDayIndex(o.end.clone().subtract(1,"days")),u=[];for(t=0;t<this.rowCnt;t++)g=t*s,n=g+s-1,i=kt(l,g),r=xt(a,n),i=Tt(i),r=Lt(r),i<=r&&u.push({row:t,firstRowDayIndex:i-g,lastRowDayIndex:r-g,isStart:i===l,isEnd:r===a});return u},sliceRangeByDay:function(g){var t,p,n,i,r,s,o=this.daysPerRow,l=this.view.computeDayRange(g),a=this.getDateDayIndex(l.start),u=this.getDateDayIndex(l.end.clone().subtract(1,"days")),d=[];for(t=0;t<this.rowCnt;t++)for(p=t*o,n=p+o-1,i=p;i<=n;i++)r=kt(a,i),s=xt(u,i),r=Tt(r),s=Lt(s),r<=s&&d.push({row:t,firstRowDayIndex:r-p,lastRowDayIndex:s-p,isStart:r===a,isEnd:s===u});return d},renderHeadHtml:function(){var e=this.view;return"<div class=\"fc-row "+e.widgetHeaderClass+"\"><table><thead>"+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var r,t,e=[];for(r=0;r<this.colCnt;r++)t=this.getCellDate(0,r),e.push(this.renderHeadDateCellHtml(t));return e.join("")},renderHeadDateCellHtml:function(r,o,e){var n=this.view;return"<th class=\"fc-day-header "+n.widgetHeaderClass+" fc-"+Gt[r.day()]+"\""+(1===this.rowCnt?" data-date=\""+r.format("YYYY-MM-DD")+"\"":"")+(1<o?" colspan=\""+o+"\"":"")+(e?" "+e:"")+">"+n.buildGotoAnchorHtml({date:r,forceOff:1<this.rowCnt||1===this.colCnt},Z(r.format(this.colHeadFormat)))+"</th>"},renderBgTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(e))+this.renderBgCellsHtml(e)+(this.isRTL?this.renderBgIntroHtml(e):"")+"</tr>"},renderBgIntroHtml:function(){return this.renderIntroHtml()},renderBgCellsHtml:function(r){var t,e,n=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(r,t),n.push(this.renderBgCellHtml(e));return n.join("")},renderBgCellHtml:function(r,t){var e=this.view,n=this.getDayClasses(r);return n.unshift("fc-day",e.widgetContentClass),"<td class=\""+n.join(" ")+"\" data-date=\""+r.format("YYYY-MM-DD")+"\""+(t?" "+t:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(n){var t=this.renderIntroHtml();t&&(this.isRTL?n.append(t):n.prepend(t))}},ve=zt.DayGrid=ge.extend(pe,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(a){var t,e,n=this.view,i=this.rowCnt,r=this.colCnt,s="";for(t=0;t<i;t++)s+=this.renderDayRowHtml(t,a);for(this.el.html(s),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new de({els:this.rowEls,isVertical:!0}),this.colCoordCache=new de({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;t<i;t++)for(e=0;e<r;e++)n.trigger("dayRender",null,this.getCellDate(t,e),this.getCellEl(t,e))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var e=this.buildBusinessHourSegs(!0);this.renderFill("businessHours",e,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(r,t){var e=this.view,n=["fc-row","fc-week",e.widgetContentClass];return t&&n.push("fc-rigid"),"<div class=\""+n.join(" ")+"\"><div class=\"fc-bg\"><table>"+this.renderBgTrHtml(r)+"</table></div><div class=\"fc-content-skeleton\"><table>"+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(r)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(e))+this.renderNumberCellsHtml(e)+(this.isRTL?this.renderNumberIntroHtml(e):"")+"</tr>"},renderNumberIntroHtml:function(){return this.renderIntroHtml()},renderNumberCellsHtml:function(r){var t,e,n=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(r,t),n.push(this.renderNumberCellHtml(e));return n.join("")},renderNumberCellHtml:function(r){var o,e,n="";return this.view.dayNumbersVisible||this.view.cellWeekNumbersVisible?(o=this.getDayClasses(r),o.unshift("fc-day-top"),this.view.cellWeekNumbersVisible&&(e="ISO"===r._locale._fullCalendar_weekCalc?1:r._locale.firstDayOfWeek()),n+="<td class=\""+o.join(" ")+"\" data-date=\""+r.format()+"\">",this.view.cellWeekNumbersVisible&&r.day()==e&&(n+=this.view.buildGotoAnchorHtml({date:r,type:"week"},{class:"fc-week-number"},r.format("w"))),this.view.dayNumbersVisible&&(n+=this.view.buildGotoAnchorHtml(r,{class:"fc-day-number"},r.date())),n+="</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(r){var t,e,n=this.sliceRangeByRow(r);for(t=0;t<n.length;t++)e=n[t],this.isRTL?(e.leftCol=this.daysPerRow-1-e.lastRowDayIndex,e.rightCol=this.daysPerRow-1-e.firstRowDayIndex):(e.leftCol=e.firstRowDayIndex,e.rightCol=e.lastRowDayIndex);return n},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(r,t){if(this.colCoordCache.isLeftInBounds(r)&&this.rowCoordCache.isTopInBounds(t)){var e=this.colCoordCache.getHorizontalIndex(r),n=this.rowCoordCache.getVerticalIndex(t);if(null!=n&&null!=e)return this.getCellHit(n,e)}},getHitSpan:function(e){return this.getCellRange(e.row,e.col)},getHitEl:function(e){return this.getCellEl(e.row,e.col)},getCellHit:function(n,r){return{row:n,col:r,component:this,left:this.colCoordCache.getLeftOffset(r),right:this.colCoordCache.getRightOffset(r),top:this.rowCoordCache.getTopOffset(n),bottom:this.rowCoordCache.getBottomOffset(n)}},getCellEl:function(n,t){return this.cellEls.eq(n*this.colCnt+t)},renderDrag:function(n,t){if(this.renderHighlight(this.eventToSpan(n)),t&&t.component!==this)return this.renderEventLocationHelper(n,t)},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(n,t){return this.renderHighlight(this.eventToSpan(n)),this.renderEventLocationHelper(n,t)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(t,d){var n,i=[],e=this.eventToSegs(t);return e=this.renderFgSegEls(e),n=this.renderSegRows(e),this.rowEls.each(function(t,e){var r,o=Fe(e),s=Fe("<div class=\"fc-helper-skeleton\"><table/></div>");r=d&&d.row===t?d.el.position().top:o.find(".fc-content-skeleton tbody").position().top,s.css("top",r).find("table").append(n[t].tbodyEl),o.append(s),i.push(s[0])}),this.helperEls=Fe(i)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,e,n){var i,r,a,o=[];for(e=this.renderFillSegEls(t,e),i=0;i<e.length;i++)r=e[i],a=this.renderFillRow(t,r,n),this.rowEls.eq(r.row).append(a),o.push(a[0]);return this.elsByFill[t]=Fe(o),e},renderFillRow:function(t,e,n){var i,r,s=this.colCnt,o=e.leftCol,l=e.rightCol+1;return n=n||t.toLowerCase(),i=Fe("<div class=\"fc-"+n+"-skeleton\"><table><tr/></table></div>"),r=i.find("tr"),0<o&&r.append("<td colspan=\""+o+"\"/>"),r.append(e.el.attr("colspan",l-o)),l<s&&r.append("<td colspan=\""+(s-l)+"\"/>"),this.bookendCells(r),i}});ve.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),ge.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return ge.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var e=Fe.grep(t,function(e){return e.event.allDay});return ge.prototype.renderBgSegs.call(this,e)},renderFgSegs:function(t){var r;return t=this.renderFgSegEls(t),r=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,e){Fe(e).find(".fc-content-skeleton > table").append(r[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var n,t=this.rowStructs||[];n=t.pop();)n.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(r){var t,e,n=[];for(t=this.groupSegRows(r),e=0;e<t.length;e++)n.push(this.renderSegRow(e,t[e]));return n},fgSegHtml:function(g,t){var p,n,i=this.view,r=g.event,s=i.isEventDraggable(r),o=!t&&r.allDay&&g.isStart&&i.isEventResizableFromStart(r),l=!t&&r.allDay&&g.isEnd&&i.isEventResizableFromEnd(r),a=this.getSegClasses(g,s,o||l),u=K(this.getSegSkinCss(g)),d="";return a.unshift("fc-day-grid-event","fc-h-event"),g.isStart&&(p=this.getEventTimeText(r),p&&(d="<span class=\"fc-time\">"+Z(p)+"</span>")),n="<span class=\"fc-title\">"+(Z(r.title||"")||"&nbsp;")+"</span>","<a class=\""+a.join(" ")+"\""+(r.url?" href=\""+Z(r.url)+"\"":"")+(u?" style=\""+u+"\"":"")+"><div class=\"fc-content\">"+(this.isRTL?n+" "+d:d+" "+n)+"</div>"+(o?"<div class=\"fc-resizer fc-start-resizer\" />":"")+(l?"<div class=\"fc-resizer fc-end-resizer\" />":"")+"</a>"},renderSegRow:function(t,y){function S(t){for(;s<t;)u=(b[i-1]||[])[s],u?u.attr("rowspan",parseInt(u.attr("rowspan")||1,10)+1):(u=Fe("<td/>"),o.append(u)),D[i][s]=u,b[i][s]=u,s++}var i,r,s,o,l,a,u,d=this.colCnt,c=this.buildSegLevels(y),w=kt(1,c.length),f=Fe("<tbody/>"),E=[],D=[],b=[];for(i=0;i<w;i++){if(r=c[i],s=0,o=Fe("<tr/>"),E.push([]),D.push([]),b.push([]),r)for(l=0;l<r.length;l++){for(a=r[l],S(a.leftCol),u=Fe("<td class=\"fc-event-container\"/>").append(a.el),a.leftCol==a.rightCol?b[i][s]=u:u.attr("colspan",a.rightCol-a.leftCol+1);s<=a.rightCol;)D[i][s]=u,E[i][s]=a,s++;o.append(u)}S(d),this.bookendCells(o),f.append(o)}return{row:t,tbodyEl:f,cellMatrix:D,segMatrix:E,segLevels:c,segs:y}},buildSegLevels:function(o){var t,e,n,i=[];for(this.sortEventSegs(o),t=0;t<o.length;t++){for(e=o[t],n=0;n<i.length&&ft(e,i[n]);n++);e.level=n,(i[n]||(i[n]=[])).push(e)}for(n=0;n<i.length;n++)i[n].sort(mt);return i},groupSegRows:function(r){var t,e=[];for(t=0;t<this.rowCnt;t++)e.push([]);for(t=0;t<r.length;t++)e[r[t].row].push(r[t]);return e}}),ve.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(r){var o,e,n=this.rowStructs||[];for(o=0;o<n.length;o++)this.unlimitRow(o),e=!!r&&("number"==typeof r?r:this.computeRowLevelLimit(o)),!1!==e&&this.limitRow(o,e)},computeRowLevelLimit:function(t){function e(t,e){r=kt(r,Fe(e).outerHeight())}var n,i,r,s=this.rowEls.eq(t),o=s.height(),l=this.rowStructs[t].tbodyEl.children();for(n=0;n<l.length;n++)if(i=l.eq(n).removeClass("fc-limited"),r=0,i.find("> td > :first-child").each(e),i.position().top+r>o)return n;return!1},limitRow:function(t,e){function n(n){for(;E<n;)a=y.getCellSegs(t,E,e),a.length&&(c=r[e-1][E],m=y.renderMoreLink(t,E,a),v=Fe("<div/>").append(m),c.append(v),w.push(v[0])),E++}var i,r,s,o,l,a,u,d,c,h,f,g,p,v,m,y=this,S=this.rowStructs[t],w=[],E=0;if(e&&e<S.segLevels.length){for(i=S.segLevels[e-1],r=S.cellMatrix,s=S.tbodyEl.children().slice(e).addClass("fc-limited").get(),o=0;o<i.length;o++){for(l=i[o],n(l.leftCol),d=[],u=0;E<=l.rightCol;)a=this.getCellSegs(t,E,e),d.push(a),u+=a.length,E++;if(u){for(c=r[e-1][l.leftCol],h=c.attr("rowspan")||1,f=[],g=0;g<d.length;g++)p=Fe("<td class=\"fc-more-cell\"/>").attr("rowspan",h),a=d[g],m=this.renderMoreLink(t,l.leftCol+g,[l].concat(a)),v=Fe("<div/>").append(m),p.append(v),f.push(p[0]),w.push(p[0]);c.addClass("fc-limited").after(Fe(f)),s.push(c[0])}}n(this.colCnt),S.moreEls=Fe(w),S.limitedEls=Fe(s)}},unlimitRow:function(n){var t=this.rowStructs[n];t.moreEls&&(t.moreEls.remove(),t.moreEls=null),t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,e,n){var i=this,r=this.view;return Fe("<a class=\"fc-more\"/>").text(this.getMoreLinkText(n.length)).on("click",function(s){var o=r.opt("eventLimitClick"),g=i.getCellDate(t,e),p=Fe(this),m=i.getCellEl(t,e),v=i.getCellSegs(t,e),c=i.resliceDaySegs(v,g),y=i.resliceDaySegs(n,g);"function"==typeof o&&(o=r.trigger("eventLimitClick",null,{date:g,dayEl:m,moreEl:p,segs:c,hiddenSegs:y},s)),"popover"===o?i.showSegPopover(t,e,p,c):"string"==typeof o&&r.calendar.zoomTo(g,o)})},showSegPopover:function(d,t,e,n){var i,r,s=this,o=this.view,l=e.parent();i=1==this.rowCnt?o.el:this.rowEls.eq(d),r={className:"fc-more-popover",content:this.renderSegPopoverContent(d,t,n),parentEl:this.view.el,top:i.offset().top,autoHide:!0,viewportConstrain:o.opt("popoverViewportConstrain"),hide:function(){s.segPopover.removeElement(),s.segPopover=null,s.popoverSegs=null}},this.isRTL?r.right=l.offset().left+l.outerWidth()+1:r.left=l.offset().left-1,this.segPopover=new ue(r),this.segPopover.show(),this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(t,e,n){var i,r=this.view,s=r.opt("theme"),o=this.getCellDate(t,e).format(r.opt("dayPopoverFormat")),l=Fe("<div class=\"fc-header "+r.widgetHeaderClass+"\"><span class=\"fc-close "+(s?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+"\"></span><span class=\"fc-title\">"+Z(o)+"</span><div class=\"fc-clear\"/></div><div class=\"fc-body "+r.widgetContentClass+"\"><div class=\"fc-event-container\"></div></div>"),a=l.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,i=0;i<n.length;i++)this.prepareHits(),n[i].hit=this.getCellHit(t,e),this.releaseHits(),a.append(n[i].el);return l},resliceDaySegs:function(t,e){var n=Fe.map(t,function(e){return e.event}),i=e.clone(),a=i.clone().add(1,"days"),l={start:i,end:a};return t=this.eventsToSegs(n,function(n){var t=x(n,l);return t?[t]:[]}),this.sortEventSegs(t),t},getMoreLinkText:function(n){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(n):"+"+n+" "+t},getCellSegs:function(a,t,e){for(var n,i=this.rowStructs[a].segMatrix,r=e||0,s=[];r<i.length;)n=i[r][t],n&&s.push(n),r++;return s}});var _t=zt.TimeGrid=ge.extend(pe,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){ge.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new de({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new de({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return"<div class=\"fc-bg\"><table>"+this.renderBgTrHtml(0)+"</table></div><div class=\"fc-slats\"><table>"+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var e,t,n,i=this.view,r=this.isRTL,a="",o=P.duration(+this.minTime);o<this.maxTime;)e=this.start.clone().time(o),t=_e(N(o,this.labelInterval)),n="<td class=\"fc-axis fc-time "+i.widgetContentClass+"\" "+i.axisStyleAttr()+">"+(t?"<span>"+Z(e.format(this.labelFormat))+"</span>":"")+"</td>",a+="<tr data-time=\""+e.format("HH:mm:ss")+"\""+(t?"":" class=\"fc-minor\"")+">"+(r?"":n)+"<td class=\""+i.widgetContentClass+"\"/>"+(r?n:"")+"</tr>",o.add(this.slotDuration);return a},processOptions:function(){var e,t=this.view,n=t.opt("slotDuration"),r=t.opt("snapDuration");n=P.duration(n),r=r?P.duration(r):n,this.slotDuration=n,this.snapDuration=r,this.snapsPerSlot=n/r,this.minResizeDuration=r,this.minTime=P.duration(t.opt("minTime")),this.maxTime=P.duration(t.opt("maxTime")),e=t.opt("slotLabelFormat"),Fe.isArray(e)&&(e=e[e.length-1]),this.labelFormat=e||t.opt("smallTimeFormat"),e=t.opt("slotLabelInterval"),this.labelInterval=e?P.duration(e):this.computeLabelInterval(n)},computeLabelInterval:function(e){var t,n,i;for(t=ze.length-1;0<=t;t--)if(n=P.duration(ze[t]),i=N(n,e),_e(i)&&1<i)return n;return P.duration(e)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(c,t){var e=this.snapsPerSlot,n=this.colCoordCache,i=this.slatCoordCache;if(n.isLeftInBounds(c)&&i.isTopInBounds(t)){var r=n.getHorizontalIndex(c),g=i.getVerticalIndex(t);if(null!=r&&null!=g){var o=i.getTopOffset(g),l=i.getHeight(g),a=Lt((t-o)/l*e);return{col:r,snap:g*e+a,component:this,left:n.getLeftOffset(r),right:n.getRightOffset(r),top:o+a/e*l,bottom:o+(a+1)/e*l}}}},getHitSpan:function(r){var t,o=this.getCellDate(0,r.col),a=this.computeSnapTime(r.snap);return o.time(a),t=o.clone().add(this.snapDuration),{start:o,end:t}},getHitEl:function(e){return this.colEls.eq(e.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(e){return P.duration(this.minTime+this.snapDuration*e)},spanToSegs:function(r){var t,e=this.sliceRangeByTimes(r);for(t=0;t<e.length;t++)e[t].col=this.isRTL?this.daysPerRow-1-e[t].dayIndex:e[t].dayIndex;return e},sliceRangeByTimes:function(o){var t,e,n,i,r=[];for(e=0;e<this.daysPerRow;e++)n=this.dayDates[e].clone(),i={start:n.clone().time(this.minTime),end:n.clone().time(this.maxTime)},t=x(o,i),t&&(t.dayIndex=e,r.push(t));return r},updateSize:function(e){this.slatCoordCache.build(),e&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(e,t){return this.computeTimeTop(P.duration(e-t.clone().stripTime()))},computeTimeTop:function(o){var t,e,n=this.slatEls.length,i=(o-this.minTime)/this.slotDuration;return i=kt(0,i),i=xt(n,i),t=Lt(i),t=xt(t,n-1),e=i-t,this.slatCoordCache.getTopPosition(t)+this.slatCoordCache.getHeight(t)*e},renderDrag:function(n,t){return t?this.renderEventLocationHelper(n,t):void this.renderHighlight(this.eventToSpan(n))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(n,t){return this.renderEventLocationHelper(n,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(n,t){return this.renderHelperSegs(this.eventToSegs(n),t)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(t){var o,n=this.spanToSegs({start:t,end:t}),i=this.computeDateTop(t,t),r=[];for(o=0;o<n.length;o++)r.push(Fe("<div class=\"fc-now-indicator fc-now-indicator-line\"></div>").css("top",i).appendTo(this.colContainerEls.eq(n[o].col))[0]);0<n.length&&r.push(Fe("<div class=\"fc-now-indicator fc-now-indicator-arrow\"></div>").css("top",i).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=Fe(r)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(e){this.view.opt("selectHelper")?this.renderEventLocationHelper(e):this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(e){this.renderHighlightSegs(this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});_t.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var t,e,n="";for(t=0;t<this.colCnt;t++)n+="<td><div class=\"fc-content-col\"><div class=\"fc-event-container fc-helper-container\"></div><div class=\"fc-event-container\"></div><div class=\"fc-highlight-container\"></div><div class=\"fc-bgevent-container\"></div><div class=\"fc-business-container\"></div></div></td>";e=Fe("<div class=\"fc-content-skeleton\"><table><tr>"+n+"</tr></table></div>"),this.colContainerEls=e.find(".fc-content-col"),this.helperContainerEls=e.find(".fc-helper-container"),this.fgContainerEls=e.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=e.find(".fc-bgevent-container"),this.highlightContainerEls=e.find(".fc-highlight-container"),this.businessContainerEls=e.find(".fc-business-container"),this.bookendCells(e.find("tr")),this.el.append(e)},renderFgSegs:function(e){return e=this.renderFgSegsIntoContainers(e,this.fgContainerEls),this.fgSegs=e,e},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,e){var n,i,r,a=[];for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),n=0;n<t.length;n++)i=t[n],e&&e.col===i.col&&(r=e.el,i.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")})),a.push(i.el[0]);return this.helperSegs=t,Fe(a)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(e){return e=this.renderFillSegEls("bgEvent",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.bgContainerEls),this.bgSegs=e,e},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(e){e=this.renderFillSegEls("highlight",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.highlightContainerEls),this.highlightSegs=e},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(e){e=this.renderFillSegEls("businessHours",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.businessContainerEls),this.businessSegs=e},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(r){var t,e=[];for(t=0;t<this.colCnt;t++)e.push([]);for(t=0;t<r.length;t++)e[r[t].col].push(r[t]);return e},attachSegsByCol:function(o,t){var e,n,i;for(e=0;e<this.colCnt;e++)for(n=o[e],i=0;i<n.length;i++)t.eq(e).append(n[i].el)},unrenderNamedSegs:function(r){var t,e=this[r];if(e){for(t=0;t<e.length;t++)e[t].el.remove();this[r]=null}},renderFgSegsIntoContainers:function(r,t){var e,n;for(r=this.renderFgSegEls(r),e=this.groupSegsByCol(r),n=0;n<this.colCnt;n++)this.updateFgSegCoords(e[n]);return this.attachSegsByCol(e,t),r},fgSegHtml:function(g,t){var p,n,i,r=this.view,s=g.event,o=r.isEventDraggable(s),l=!t&&g.isStart&&r.isEventResizableFromStart(s),a=!t&&g.isEnd&&r.isEventResizableFromEnd(s),u=this.getSegClasses(g,o,l||a),d=K(this.getSegSkinCss(g));return u.unshift("fc-time-grid-event","fc-v-event"),r.isMultiDayEvent(s)?(g.isStart||g.isEnd)&&(p=this.getEventTimeText(g),n=this.getEventTimeText(g,"LT"),i=this.getEventTimeText(g,null,!1)):(p=this.getEventTimeText(s),n=this.getEventTimeText(s,"LT"),i=this.getEventTimeText(s,null,!1)),"<a class=\""+u.join(" ")+"\""+(s.url?" href=\""+Z(s.url)+"\"":"")+(d?" style=\""+d+"\"":"")+"><div class=\"fc-content\">"+(p?"<div class=\"fc-time\" data-start=\""+Z(i)+"\" data-full=\""+Z(n)+"\"><span>"+Z(p)+"</span></div>":"")+(s.title?"<div class=\"fc-title\">"+Z(s.title)+"</div>":"")+"</div><div class=\"fc-bg\"/>"+(a?"<div class=\"fc-resizer fc-end-resizer\" />":"")+"</a>"},updateSegVerticals:function(e){this.computeSegVerticals(e),this.assignSegVerticals(e)},computeSegVerticals:function(r){var t,e;for(t=0;t<r.length;t++)e=r[t],e.top=this.computeDateTop(e.start,e.start),e.bottom=this.computeDateTop(e.end,e.start)},assignSegVerticals:function(r){var t,e;for(t=0;t<r.length;t++)e=r[t],e.el.css(this.generateSegVerticalCss(e))},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},updateFgSegCoords:function(e){this.computeSegVerticals(e),this.computeFgSegHorizontals(e),this.assignSegVerticals(e),this.assignFgSegHorizontals(e)},computeFgSegHorizontals:function(r){var t,e,n;if(this.sortEventSegs(r),t=ht(r),vt(t),e=t[0]){for(n=0;n<e.length;n++)yt(e[n]);for(n=0;n<e.length;n++)this.computeFgSegForwardBack(e[n],0,0)}},computeFgSegForwardBack:function(o,t,e){var n,i=o.forwardSegs;if(void 0===o.forwardCoord)for(i.length?(this.sortForwardSegs(i),this.computeFgSegForwardBack(i[0],t+1,e),o.forwardCoord=i[0].backwardCoord):o.forwardCoord=1,o.backwardCoord=o.forwardCoord-(o.forwardCoord-e)/(t+1),n=0;n<i.length;n++)this.computeFgSegForwardBack(i[n],0,o.forwardCoord)},sortForwardSegs:function(e){e.sort(Ye(this,"compareForwardSegs"))},compareForwardSegs:function(n,t){return t.forwardPressure-n.forwardPressure||(n.backwardCoord||0)-(t.backwardCoord||0)||this.compareEventSegs(n,t)},assignFgSegHorizontals:function(r){var t,e;for(t=0;t<r.length;t++)e=r[t],e.el.css(this.generateFgSegHorizontalCss(e)),30>e.bottom-e.top&&e.el.addClass("fc-short")},generateFgSegHorizontalCss:function(a){var t,e,n=this.view.opt("slotEventOverlap"),i=a.backwardCoord,r=a.forwardCoord,s=this.generateSegVerticalCss(a);return n&&(r=xt(1,i+2*(r-i))),this.isRTL?(t=1-r,e=i):(t=i,e=1-r),s.zIndex=a.level+1,s.left=100*t+"%",s.right=100*e+"%",n&&a.forwardPressure&&(s[this.isRTL?"marginLeft":"marginRight"]=20),s}});var Yt=zt.View=nt.extend(oe,le,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(e,t,n,i){this.calendar=e,this.type=this.name=t,this.options=n,this.intervalDuration=i||P.duration(1,"day"),this.nextDayThreshold=P.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=H(this.opt("eventOrder")),this.initialize()},initialize:function(){},opt:function(e){return this.options[e]},trigger:function(r,t){var e=this.calendar;return e.trigger.apply(e,[r,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(e){this.setRange(this.computeRange(e))},setRange:function(t){Fe.extend(this,t),this.updateTitle()},computeRange:function(o){var t,a,l=B(this.intervalDuration),d=o.clone().startOf(l),c=d.clone().add(this.intervalDuration);return /year|month|week|day/.test(l)?(d.stripTime(),c.stripTime()):(d.hasTime()||(d=this.calendar.time(0)),c.hasTime()||(c=this.calendar.time(0))),t=d.clone(),t=this.skipHiddenDays(t),a=c.clone(),a=this.skipHiddenDays(a,-1,!0),{intervalUnit:l,intervalStart:d,intervalEnd:c,start:t,end:a}},computePrevDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(n,t){return 1>=this.intervalDuration.as("days")&&this.isHiddenDay(n)&&(n=this.skipHiddenDays(n,t),n.startOf("day")),n},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):1<this.intervalDuration.as("days")?"ll":"LL"},formatRange:function(r,t,e){var n=r.end;return n.hasTime()||(n=n.clone().subtract(1)),Qe(r.start,n,t,e,this.opt("isRTL"))},getAllDayHtml:function(){return this.opt("allDayHtml")||Z(this.opt("allDayText"))},buildGotoAnchorHtml:function(t,e,a){var i,r,s,d;return Fe.isPlainObject(t)?(i=t.date,r=t.type,s=t.forceOff):i=t,i=zt.moment(i),d={date:i.format("YYYY-MM-DD"),type:r||"day"},"string"==typeof e&&(a=e,e=null),e=e?" "+Q(e):"",a=a||"",!s&&this.opt("navLinks")?"<a"+e+" data-goto=\""+Z(JSON.stringify(d))+"\">"+a+"</a>":"<span"+e+">"+a+"</span>"},setElement:function(e){this.el=e,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(r,t){var e=this,n=null;return null!=t&&this.displaying&&(n=this.queryScroll()),this.calendar.freezeContentHeight(),je(this.clear(),function(){return e.displaying=je(e.displayView(r),function(){null==t?e.forceScroll(e.computeInitialScroll(n)):e.setScroll(t),e.calendar.unfreezeContentHeight(),e.triggerRender()})})},clear:function(){var t=this,e=this.displaying;return e?je(e,function(){return t.displaying=null,t.clearEvents(),t.clearView()}):Fe.when()},displayView:function(e){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),e&&this.setDate(e),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(Fe(document),"mousedown",this.handleDocumentMousedown),this.listenTo(Fe(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(Fe(document))},initThemingProps:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var e,t,n,i=this;this.opt("nowIndicator")&&(e=this.getNowIndicatorUnit(),e&&(t=Ye(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,n=this.initialNowDate.clone().startOf(e).add(1,e)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){i.nowIndicatorTimeoutID=null,t(),n=+P.duration(1,e),n=kt(100,n),i.nowIndicatorIntervalID=setInterval(t,n)},n)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},updateSize:function(n){var t;n&&(t=this.queryScroll()),this.updateHeight(n),this.updateWidth(n),this.updateNowIndicator(),n&&this.setScroll(t)},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(){},computeInitialScroll:function(){return 0},queryScroll:function(){},setScroll:function(){},forceScroll:function(n){var t=this;this.setScroll(n),setTimeout(function(){t.setScroll(n)},0)},displayEvents:function(n){var t=this.queryScroll();this.clearEvents(),this.renderEvents(n),this.isEventsRendered=!0,this.setScroll(t),this.triggerEventRender()},clearEvents:function(){var e;this.isEventsRendered&&(e=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(e),this.isEventsRendered=!1)},renderEvents:function(){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(e){this.trigger("eventAfterRender",e.event,e.event,e.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(e){this.trigger("eventDestroy",e.event,e.event,e.el)})},resolveEventEl:function(t,e){var n=this.trigger("eventRender",t,t,e);return!1===n?e=null:n&&!0!==n&&(e=Fe(n)),e},showEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","")},e)},hideEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","hidden")},e)},renderedEventSegEach:function(r,t){var e,n=this.getEventSegs();for(e=0;e<n.length;e++)t&&n[e].event._id!==t._id||n[e].el&&r.call(this,n[e])},getEventSegs:function(){return[]},isEventDraggable:function(e){return this.isEventStartEditable(e)},isEventStartEditable:function(e){return q(e.startEditable,(e.source||{}).startEditable,this.opt("eventStartEditable"),this.isEventGenerallyEditable(e))},isEventGenerallyEditable:function(e){return q(e.editable,(e.source||{}).editable,this.opt("editable"))},reportEventDrop:function(a,t,e,n,i){var r=this.calendar,s=r.mutateEvent(a,t,e);this.triggerEventDrop(a,s.dateDelta,function(){s.undo(),r.reportEventChange()},n,i),r.reportEventChange()},triggerEventDrop:function(o,t,e,n,i){this.trigger("eventDrop",n[0],o,t,e,i,{})},reportExternalDrop:function(t,e,n,i,r){var s,o,l=t.eventProps;l&&(s=Fe.extend({},l,e),o=this.calendar.renderEvent(s,t.stick)[0]),this.triggerExternalDrop(o,e,n,i,r)},triggerExternalDrop:function(o,t,e,n,i){this.trigger("drop",e[0],t.start,n,i),o&&this.trigger("eventReceive",null,o)},renderDrag:function(){},unrenderDrag:function(){},isEventResizableFromStart:function(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function(e){return this.isEventResizable(e)},isEventResizable:function(n){var t=n.source||{};return q(n.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),n.editable,t.editable,this.opt("editable"))},reportEventResize:function(a,t,e,n,i){var r=this.calendar,s=r.mutateEvent(a,t,e);this.triggerEventResize(a,s.durationDelta,function(){s.undo(),r.reportEventChange()},n,i),r.reportEventChange()},triggerEventResize:function(o,t,e,n,i){this.trigger("eventResize",n[0],o,t,e,i,{})},select:function(n,t){this.unselect(t),this.renderSelection(n),this.reportSelection(n,t)},renderSelection:function(){},reportSelection:function(n,t){this.isSelected=!0,this.triggerSelect(n,t)},triggerSelect:function(n,t){this.trigger("select",null,this.calendar.applyTimezone(n.start),this.calendar.applyTimezone(n.end),t)},unselect:function(e){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,e))},unrenderSelection:function(){},selectEvent:function(e){this.selectedEvent&&this.selectedEvent===e||(this.unselectEvent(),this.renderedEventSegEach(function(e){e.el.addClass("fc-selected")},e),this.selectedEvent=e)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(e){e.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(e){return this.selectedEvent&&this.selectedEvent._id===e._id},handleDocumentMousedown:function(e){u(e)&&this.processUnselect(e)},processUnselect:function(e){this.processRangeUnselect(e),this.processEventUnselect(e)},processRangeUnselect:function(t){var e;this.isSelected&&this.opt("unselectAuto")&&(e=this.opt("unselectCancel"),e&&Fe(t.target).closest(e).length||this.unselect(t))},processEventUnselect:function(t){this.selectedEvent&&(Fe(t.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(r,t,e){this.trigger("dayClick",t,this.calendar.applyTimezone(r.start),e)},initHiddenDays:function(){var t,e=this.opt("hiddenDays")||[],n=[],i=0;for(!1===this.opt("weekends")&&e.push(0,6),t=0;7>t;t++)(n[t]=-1!==Fe.inArray(t,e))||i++;if(!i)throw"invalid hiddenDays";this.isHiddenDayHash=n},isHiddenDay:function(e){return P.isMoment(e)&&(e=e.day()),this.isHiddenDayHash[e]},skipHiddenDays:function(r,t,e){var n=r.clone();for(t=t||1;this.isHiddenDayHash[(n.day()+(e?t:0)+7)%7];)n.add(t,"days");return n},computeDayRange:function(o){var t,e=o.start.clone().stripTime(),a=o.end,s=null;return a&&(s=a.clone().stripTime(),t=+a.time(),t&&t>=this.nextDayThreshold&&s.add(1,"days")),(!a||s<=e)&&(s=e.clone().add(1,"days")),{start:e,end:s}},isMultiDayEvent:function(n){var t=this.computeDayRange(n);return 1<t.end.diff(t.start,"days")}}),Se=zt.Scroller=nt.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(e){e=e||{},this.overflowX=e.overflowX||e.overflow||"auto",this.overflowY=e.overflowY||e.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=Fe("<div class=\"fc-scroller\"></div>")},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(r){var t=this.overflowX,i=this.overflowY;r=r||this.getScrollbarWidths(),"auto"===t&&(t=r.top||r.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===i&&(i=r.left||r.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":t,"overflow-y":i})},setHeight:function(e){this.scrollEl.height(e)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(e){this.scrollEl.scrollTop(e)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return l(this.scrollEl)}}),we=zt.Calendar=nt.extend({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:function(a,e){function S(e){e._locale=H}function t(){a.addClass("fc"),a.on("click.fc","a[data-goto]",function(t){var e=Fe(this),n=e.data("goto"),i=C.moment(n.date),r=n.type,a=x.opt("navLink"+$(r)+"Click");"function"==typeof a?a(i,t):("string"==typeof a&&(r=a),w(i,r))}),C.bindOption("theme",function(e){I=e?"ui":"fc",a.toggleClass("ui-widget",e),a.toggleClass("fc-unthemed",!e)}),C.bindOptions(["isRTL","locale"],function(e){a.toggleClass("fc-ltr",!e),a.toggleClass("fc-rtl",e)}),R=Fe("<div class='fc-view-container'/>").prependTo(a),T=C.header=new bt(C),r(),o(C.options.defaultView),C.options.handleWindowResize&&(L=We(u,C.options.windowResizeDelay),Fe(window).resize(L))}function r(){T.render(),T.el&&a.prepend(T.el)}function i(){return a.is(":visible")}function o(t,e){O++,x&&t&&x.type!==t&&(E(),s()),!x&&t&&(x=C.view=M[t]||(M[t]=C.instantiateView(t)),x.setElement(Fe("<div class='fc-view fc-"+t+"-view' />").appendTo(R)),T.activateButton(t)),x&&(z=x.massageCurrentDate(z),x.displaying&&z>=x.intervalStart&&z<x.intervalEnd||i()&&(x.display(z,e),D(),v(),y(),m())),D(),O--}function s(){T.deactivateButton(x.type),x.removeElement(),x=C.view=null}function l(){O++,E();var n=x.type,t=x.queryScroll();s(),o(n,t),D(),O--}function n(e){if(i())return e&&c(),O++,x.updateSize(!0),O--,!0}function d(){i()&&c()}function c(){var n=C.options.contentHeight,r=C.options.height;k="number"==typeof n?n:"function"==typeof n?n():"number"==typeof r?r-g():"function"==typeof r?r()-g():"parent"===r?a.parent().height()-g():It(R.width()/kt(C.options.aspectRatio,.5))}function g(){return T.el?T.el.outerHeight(!0):0}function u(e){!O&&e.target===window&&x.start&&n(!0)&&x.trigger("windowResize",G)}function p(){h()}function f(){i()&&(E(),x.displayEvents(A),D())}function m(){!C.options.lazyFetching||B(x.start,x.end)?h():f()}function h(){F(x.start,x.end)}function v(){T.updateTitle(x.title)}function y(){var e=C.getNow();e>=x.intervalStart&&e<x.intervalEnd?T.disableButton("today"):T.enableButton("today")}function w(r,t){var e;t=t||"day",e=C.getViewSpec(t)||C.getUnitViewSpec(t),z=r.clone(),o(e?e.type:null)}function E(){R.css({width:"100%",height:R.height(),overflow:"hidden"})}function D(){R.css({width:"",height:"",overflow:""})}function b(i){var t,e=0;for(t in i)C.dynamicOverrides[t]=i[t];for(t in C.viewSpecCache={},C.populateOptionsHash(),i)C.triggerOptionHandlers(t),e++;if(1===e){if("height"===t||"contentHeight"===t||"aspectRatio"===t)return void n(!0);if("defaultDate"===t)return;if("businessHours"===t)return void(x&&(x.unrenderBusinessHours(),x.renderBusinessHours()));if("timezone"===t)return C.rezoneArrayEventSources(),void p()}r(),M={},l()}var C=this;C.render=function(){R?i()&&(d(),o()):t()},C.destroy=function(){x&&x.removeElement(),T.removeElement(),R.remove(),a.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),a.off(".fc"),L&&Fe(window).unbind("resize",L)},C.refetchEvents=p,C.refetchEventSources=function(e){N(C.getEventSourcesByMatchArray(e))},C.reportEvents=function(e){A=e,f()},C.reportEventChange=function(){f()},C.rerenderEvents=f,C.changeView=o,C.select=function(){x.select(C.buildSelectSpan.apply(C,arguments))},C.unselect=function(){x&&x.unselect()},C.prev=function(){z=x.computePrevDate(z),o()},C.next=function(){z=x.computeNextDate(z),o()},C.prevYear=function(){z.add(-1,"years"),o()},C.nextYear=function(){z.add(1,"years"),o()},C.today=function(){z=C.getNow(),o()},C.gotoDate=function(e){z=C.moment(e).stripZone(),o()},C.incrementDate=function(e){z.add(P.duration(e)),o()},C.zoomTo=w,C.getDate=function(){return C.applyTimezone(z)},C.getCalendar=function(){return C},C.getView=function(){return x},C.option=function(r,i){var e;if("string"==typeof r){if(void 0===i)return C.options[r];e={},e[r]=i,b(e)}else"object"==("undefined"===typeof r?"undefined":babelHelpers.typeof(r))&&b(r)},C.trigger=function(r,t){var e=Array.prototype.slice.call(arguments,2);if(t=t||G,this.triggerWith(r,t,e),C.options[r])return C.options[r].apply(t,e)},C.dynamicOverrides={},C.viewSpecCache={},C.optionHandlers={},C.overrides=Fe.extend({},e),C.populateOptionsHash();var H;C.bindOptions(["locale","monthNames","monthNamesShort","dayNames","dayNamesShort","firstDay","weekNumberCalculation"],function(r,t,e,n,i,s,o){if("iso"===o&&(o="ISO"),H=V(Dt(r)),t&&(H._months=t),e&&(H._monthsShort=e),n&&(H._weekdays=n),i&&(H._weekdaysShort=i),null==s&&"ISO"===o&&(s=1),null!=s){var d=V(H._week);d.dow=s,H._week=d}"ISO"!==o&&"local"!==o&&"function"!=typeof o||(H._fullCalendar_weekCalc=o),z&&S(z)}),C.defaultAllDayEventDuration=P.duration(C.options.defaultAllDayEventDuration),C.defaultTimedEventDuration=P.duration(C.options.defaultTimedEventDuration),C.moment=function(){var e;return"local"===C.options.timezone?(e=zt.moment.apply(null,arguments),e.hasTime()&&e.local()):e="UTC"===C.options.timezone?zt.moment.utc.apply(null,arguments):zt.moment.parseZone.apply(null,arguments),S(e),e},C.localizeMoment=S,C.getIsAmbigTimezone=function(){return"local"!==C.options.timezone&&"UTC"!==C.options.timezone},C.applyTimezone=function(r){if(!r.hasTime())return r.clone();var t,e=C.moment(r.toArray()),n=r.time()-e.time();return n&&(t=e.clone().add(n),0===r.time()-t.time()&&(e=t)),e},C.getNow=function(){var e=C.options.now;return"function"==typeof e&&(e=e()),C.moment(e).stripZone()},C.getEventEnd=function(e){return e.end?e.end.clone():C.getDefaultEventEnd(e.allDay,e.start)},C.getDefaultEventEnd=function(r,t){var e=t.clone();return r?e.stripTime().add(C.defaultAllDayEventDuration):e.add(C.defaultTimedEventDuration),C.getIsAmbigTimezone()&&e.stripZone(),e},C.humanizeDuration=function(e){return e.locale(C.options.locale).humanize()},Ct.call(C);var T,R,I,x,k,L,z,B=C.isFetchNeeded,F=C.fetchEvents,N=C.fetchEventSources,G=a[0],M={},O=0,A=[];z=null==C.options.defaultDate?C.getNow():C.moment(C.options.defaultDate).stripZone(),C.getSuggestedViewHeight=function(){return void 0===k&&d(),k},C.isHeightAuto=function(){return"auto"===C.options.contentHeight||"auto"===C.options.height},C.freezeContentHeight=E,C.unfreezeContentHeight=D,C.initialize()},initialize:function(){},populateOptionsHash:function(){var n,t,e,i;n=q(this.dynamicOverrides.locale,this.overrides.locale),t=Ee[n],t||(n=we.defaults.locale,t=Ee[n]||{}),e=q(this.dynamicOverrides.isRTL,this.overrides.isRTL,t.isRTL,we.defaults.isRTL),i=e?we.rtlDefaults:{},this.dirDefaults=i,this.localeDefaults=t,this.options=g([we.defaults,i,t,this.overrides,this.dynamicOverrides]),Et(this.options)},getViewSpec:function(n){var t=this.viewSpecCache;return t[n]||(t[n]=this.buildViewSpec(n))},getUnitViewSpec:function(t){var e,n,i;if(-1!=Fe.inArray(t,Mt))for(e=this.header.getViewsWithButtons(),Fe.each(zt.views,function(n){e.push(n)}),n=0;n<e.length;n++)if(i=this.getViewSpec(e[n]),i&&i.singleUnit==t)return i},buildViewSpec:function(e){for(var t,n,r,s,o=this.overrides.views||{},l=[],a=[],u=[],d=e;d;)t=Bt[d],n=o[d],d=null,"function"==typeof t&&(t={class:t}),t&&(l.unshift(t),a.unshift(t.defaults||{}),r=r||t.duration,d=d||t.type),n&&(u.unshift(n),r=r||n.duration,d=d||n.type);return t=A(l),t.type=e,!!t.class&&(r&&(r=P.duration(r),r.valueOf()&&(t.duration=r,s=B(r),1===r.as(s)&&(t.singleUnit=s,u.unshift(o[s]||{})))),t.defaults=g(a),t.overrides=g(u),this.buildViewSpecOptions(t),this.buildViewSpecButtonText(t,e),t)},buildViewSpecOptions:function(e){e.options=g([we.defaults,e.defaults,this.dirDefaults,this.localeDefaults,this.overrides,e.overrides,this.dynamicOverrides]),Et(e.options)},buildViewSpecButtonText:function(r,t){function e(e){var o=e.buttonText||{};return o[t]||(r.buttonTextKey?o[r.buttonTextKey]:null)||(r.singleUnit?o[r.singleUnit]:null)}r.buttonTextOverride=e(this.dynamicOverrides)||e(this.overrides)||r.overrides.buttonText,r.buttonTextDefault=e(this.localeDefaults)||e(this.dirDefaults)||r.defaults.buttonText||e(we.defaults)||(r.duration?this.humanizeDuration(r.duration):null)||t},instantiateView:function(n){var t=this.getViewSpec(n);return new t.class(this,n,t.options,t.duration)},isValidViewType:function(e){return!!this.getViewSpec(e)},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(r,t){var e,o=this.moment(r).stripZone();return e=t?this.moment(t).stripZone():o.hasTime()?o.clone().add(this.defaultTimedEventDuration):o.clone().add(this.defaultAllDayEventDuration),{start:o,end:e}}});we.mixin(oe),we.mixin({optionHandlers:null,bindOption:function(n,t){this.bindOptions([n],t)},bindOptions:function(r,o){var a,n={func:o,names:r};for(a=0;a<r.length;a++)this.registerOptionHandlerObj(r[a],n);this.triggerOptionHandlerObj(n)},registerOptionHandlerObj:function(n,t){(this.optionHandlers[n]||(this.optionHandlers[n]=[])).push(t)},triggerOptionHandlers:function(r){var t,e=this.optionHandlers[r]||[];for(t=0;t<e.length;t++)this.triggerOptionHandlerObj(e[t])},triggerOptionHandlerObj:function(r){var t,e=r.names,n=[];for(t=0;t<e.length;t++)n.push(this.options[e[t]]);r.func.apply(this,n)}}),we.defaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:"all-day",theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3},we.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},we.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Ee=zt.locales={};zt.datepickerLocale=function(t,e,n){var i=Ee[t]||(Ee[t]={});i.isRTL=n.isRTL,i.weekNumberTitle=n.weekHeader,Fe.each(De,function(r,t){i[r]=t(n)}),Fe.datepicker&&(Fe.datepicker.regional[e]=Fe.datepicker.regional[t]=n,Fe.datepicker.regional.en=Fe.datepicker.regional[""],Fe.datepicker.setDefaults(n))},zt.locale=function(t,e){var n,r;n=Ee[t]||(Ee[t]={}),e&&(n=Ee[t]=g([n,e])),r=Dt(t),Fe.each(be,function(i,t){null==n[i]&&(n[i]=t(r,n))}),we.defaults.locale=t};var De={buttonText:function(e){return{prev:X(e.prevText),next:X(e.nextText),today:X(e.currentText)}},monthYearFormat:function(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},be={dayOfMonthFormat:function(r,t){var e=r.longDateFormat("l");return e=e.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?e+=" ddd":e="ddd "+e,e},mediumTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},Ce={smallDayDateFormat:function(e){return e.isRTL?"D dd":"dd D"},weekFormat:function(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};zt.locale("en",we.englishDefaults),zt.sourceNormalizers=[],zt.sourceFetchers=[];var He={dataType:"json",cache:!1},Te=1;we.prototype.normalizeEvent=function(){},we.prototype.spanContainsSpan=function(r,t){var e=r.start.clone().stripZone(),n=this.getEventEnd(r).stripZone();return t.start>=e&&t.end<=n},we.prototype.getPeerEvents=function(o,t){var e,n,i=this.getEventCache(),r=[];for(e=0;e<i.length;e++)n=i[e],t&&t._id===n._id||r.push(n);return r},we.prototype.isEventSpanAllowed=function(o,t){var e=t.source||{},n=q(t.constraint,e.constraint,this.options.eventConstraint),i=q(t.overlap,e.overlap,this.options.eventOverlap);return this.isSpanAllowed(o,n,i,t)&&(!this.options.eventAllow||!1!==this.options.eventAllow(o,t))},we.prototype.isExternalSpanAllowed=function(t,e,n){var i,r;return n&&(i=Fe.extend({},n,e),r=this.expandEvent(this.buildEventFromInput(i))[0]),r?this.isEventSpanAllowed(t,r):this.isSelectionSpanAllowed(t)},we.prototype.isSelectionSpanAllowed=function(e){return this.isSpanAllowed(e,this.options.selectConstraint,this.options.selectOverlap)&&(!this.options.selectAllow||!1!==this.options.selectAllow(e))},we.prototype.isSpanAllowed=function(d,t,e,c){var i,r,g,o,l,a;if(null!=t&&(i=this.constraintToEvents(t))){for(r=!1,o=0;o<i.length;o++)if(this.spanContainsSpan(i[o],d)){r=!0;break}if(!r)return!1}for(g=this.getPeerEvents(d,c),o=0;o<g.length;o++)if(l=g[o],this.eventIntersectsRange(l,d)){if(!1===e)return!1;if("function"==typeof e&&!e(l,c))return!1;if(c){if(a=q(l.overlap,(l.source||{}).overlap),!1===a)return!1;if("function"==typeof a&&!a(c,l))return!1}}return!0},we.prototype.constraintToEvents=function(e){return"businessHours"===e?this.getCurrentBusinessHourEvents():"object"==("undefined"===typeof e?"undefined":babelHelpers.typeof(e))?null==e.start?null:this.expandEvent(this.buildEventFromInput(e)):this.clientEvents(e)},we.prototype.eventIntersectsRange=function(r,t){var e=r.start.clone().stripZone(),n=this.getEventEnd(r).stripZone();return t.start<n&&t.end>e};var xe={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};we.prototype.getCurrentBusinessHourEvents=function(e){return this.computeBusinessHourEvents(e,this.options.businessHours)},we.prototype.computeBusinessHourEvents=function(t,e){return!0===e?this.expandBusinessHourEvents(t,[{}]):Fe.isPlainObject(e)?this.expandBusinessHourEvents(t,[e]):Fe.isArray(e)?this.expandBusinessHourEvents(t,e,!0):[]},we.prototype.expandBusinessHourEvents=function(t,e,n){var i,r,a=this.getView(),o=[];for(i=0;i<e.length;i++)r=e[i],n&&!r.dow||(r=Fe.extend({},xe,r),t&&(r.start=null,r.end=null),o.push.apply(o,this.expandEvent(this.buildEventFromInput(r),a.start,a.end)));return o};var Re=zt.BasicView=Yt.extend({scroller:null,dayGridClass:ve,dayGrid:null,dayNumbersVisible:!1,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new Se({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var e=this.dayGridClass.extend(Wt);return new e(this)},setRange:function(e){Yt.prototype.setRange.call(this,e),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(e)},computeRange:function(n){var t=Yt.prototype.computeRange.call(this,n);return /year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},renderDates:function(){this.dayNumbersVisible=1<this.dayGrid.rowCnt,this.opt("weekNumbers")&&(this.opt("weekNumbersWithinDays")?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0)),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.cellWeekNumbersVisible||this.colWeekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var t=this.scroller.el.addClass("fc-day-grid-container"),e=Fe("<div class=\"fc-day-grid\" />").appendTo(t);this.el.find(".fc-body > tr > td").append(t),this.dayGrid.setElement(e),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return"<table><thead class=\"fc-head\"><tr><td class=\"fc-head-container "+this.widgetHeaderClass+"\"></td></tr></thead><tbody class=\"fc-body\"><tr><td class=\""+this.widgetContentClass+"\"></td></tr></tbody></table>"},weekNumberStyleAttr:function(){return null===this.weekNumberWidth?"":"style=\"width:"+this.weekNumberWidth+"px\""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function(){this.colWeekNumbersVisible&&(this.weekNumberWidth=t(this.el.find(".fc-week-number")))},setHeight:function(r,t){var e,n,a=this.opt("eventLimit");this.scroller.clear(),i(this.headRowEl),this.dayGrid.removeSegPopover(),a&&"number"==typeof a&&this.dayGrid.limitRows(a),e=this.computeScrollerHeight(r),this.setGridHeight(e,t),a&&"number"!=typeof a&&this.dayGrid.limitRows(a),t||(this.scroller.setHeight(e),n=this.scroller.getScrollbarWidths(),(n.left||n.right)&&(Y(this.headRowEl,n),e=this.computeScrollerHeight(r),this.scroller.setHeight(e)),this.scroller.lockOverflow(n))},computeScrollerHeight:function(e){return e-r(this.el,this.scroller.el)},setGridHeight:function(r,t){t?Ve(this.dayGrid.rowEls):n(this.dayGrid.rowEls,r,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(e){this.scroller.setScrollTop(e)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(n,t){return this.dayGrid.queryHit(n,t)},getHitSpan:function(e){return this.dayGrid.getHitSpan(e)},getHitEl:function(e){return this.dayGrid.getHitEl(e)},renderEvents:function(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(n,t){return this.dayGrid.renderDrag(n,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(e){this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Wt={renderHeadIntroHtml:function(){var e=this.view;return e.colWeekNumbersVisible?"<th class=\"fc-week-number "+e.widgetHeaderClass+"\" "+e.weekNumberStyleAttr()+"><span>"+Z(e.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(r){var t=this.view,e=this.getCellDate(r,0);return t.colWeekNumbersVisible?"<td class=\"fc-week-number\" "+t.weekNumberStyleAttr()+">"+t.buildGotoAnchorHtml({date:e,type:"week",forceOff:1===this.colCnt},e.format("w"))+"</td>":""},renderBgIntroHtml:function(){var e=this.view;return e.colWeekNumbersVisible?"<td class=\"fc-week-number "+e.widgetContentClass+"\" "+e.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var e=this.view;return e.colWeekNumbersVisible?"<td class=\"fc-week-number\" "+e.weekNumberStyleAttr()+"></td>":""}},ke=zt.MonthView=Re.extend({computeRange:function(r){var t,e=Re.prototype.computeRange.call(this,r);return this.isFixedWeeks()&&(t=Tt(e.end.diff(e.start,"weeks",!0)),e.end.add(6-t,"weeks")),e},setGridHeight:function(r,t){t&&(r*=this.rowCnt/6),n(this.dayGrid.rowEls,r,!t)},isFixedWeeks:function(){return this.opt("fixedWeekCount")}});Bt.basic={class:Re},Bt.basicDay={type:"basic",duration:{days:1}},Bt.basicWeek={type:"basic",duration:{weeks:1}},Bt.month={class:ke,duration:{months:1},defaults:{fixedWeekCount:!0}};var jt=zt.AgendaView=Yt.extend({scroller:null,timeGridClass:_t,timeGrid:null,dayGridClass:ve,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new Se({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var e=this.timeGridClass.extend(Ut);return new e(this)},instantiateDayGrid:function(){var e=this.dayGridClass.extend(Be);return new e(this)},setRange:function(e){Yt.prototype.setRange.call(this,e),this.timeGrid.setRange(e),this.dayGrid&&this.dayGrid.setRange(e)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var t=this.scroller.el.addClass("fc-time-grid-container"),e=Fe("<div class=\"fc-time-grid\" />").appendTo(t);this.el.find(".fc-body > tr > td").append(t),this.timeGrid.setElement(e),this.timeGrid.renderDates(),this.bottomRuleEl=Fe("<hr class=\"fc-divider "+this.widgetHeaderClass+"\"/>").appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return"<table><thead class=\"fc-head\"><tr><td class=\"fc-head-container "+this.widgetHeaderClass+"\"></td></tr></thead><tbody class=\"fc-body\"><tr><td class=\""+this.widgetContentClass+"\">"+(this.dayGrid?"<div class=\"fc-day-grid\"/><hr class=\"fc-divider "+this.widgetHeaderClass+"\"/>":"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null===this.axisWidth?"":"style=\"width:"+this.axisWidth+"px\""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(e){this.timeGrid.renderNowIndicator(e)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(e){this.timeGrid.updateSize(e),Yt.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=t(this.el.find(".fc-axis"))},setHeight:function(r,t){var e,a,s;this.bottomRuleEl.hide(),this.scroller.clear(),i(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),e=this.opt("eventLimit"),e&&"number"!=typeof e&&(e=5),e&&this.dayGrid.limitRows(e)),t||(a=this.computeScrollerHeight(r),this.scroller.setHeight(a),s=this.scroller.getScrollbarWidths(),(s.left||s.right)&&(Y(this.noScrollRowEls,s),a=this.computeScrollerHeight(r),this.scroller.setHeight(a)),this.scroller.lockOverflow(s),this.timeGrid.getTotalSlatHeight()<a&&this.bottomRuleEl.show())},computeScrollerHeight:function(e){return e-r(this.el,this.scroller.el)},computeInitialScroll:function(){var e=P.duration(this.opt("scrollTime")),t=this.timeGrid.computeTimeTop(e);return t=Tt(t),t&&t++,t},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(e){this.scroller.setScrollTop(e)},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(r,t){var e=this.timeGrid.queryHit(r,t);return!e&&this.dayGrid&&(e=this.dayGrid.queryHit(r,t)),e},getHitSpan:function(e){return e.component.getHitSpan(e)},getHitEl:function(e){return e.component.getHitEl(e)},renderEvents:function(o){var t,e,n=[],i=[],r=[];for(e=0;e<o.length;e++)o[e].allDay?n.push(o[e]):i.push(o[e]);t=this.timeGrid.renderEvents(i),this.dayGrid&&(r=this.dayGrid.renderEvents(n)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(n,t){return n.start.hasTime()?this.timeGrid.renderDrag(n,t):this.dayGrid?this.dayGrid.renderDrag(n,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Ut={renderHeadIntroHtml:function(){var n,t=this.view;return t.opt("weekNumbers")?(n=this.start.format(t.opt("smallWeekFormat")),"<th class=\"fc-axis fc-week-number "+t.widgetHeaderClass+"\" "+t.axisStyleAttr()+">"+t.buildGotoAnchorHtml({date:this.start,type:"week",forceOff:1<this.colCnt},Z(n))+"</th>"):"<th class=\"fc-axis "+t.widgetHeaderClass+"\" "+t.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var e=this.view;return"<td class=\"fc-axis "+e.widgetContentClass+"\" "+e.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var e=this.view;return"<td class=\"fc-axis\" "+e.axisStyleAttr()+"></td>"}},Be={renderBgIntroHtml:function(){var e=this.view;return"<td class=\"fc-axis "+e.widgetContentClass+"\" "+e.axisStyleAttr()+"><span>"+e.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){var e=this.view;return"<td class=\"fc-axis\" "+e.axisStyleAttr()+"></td>"}},ze=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];Bt.agenda={class:jt,defaults:{allDaySlot:!0,slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Bt.agendaDay={type:"agenda",duration:{days:1}},Bt.agendaWeek={type:"agenda",duration:{weeks:1}};var Ne=Yt.extend({grid:null,scroller:null,initialize:function(){this.grid=new qt(this),this.scroller=new Se({overflowX:"hidden",overflowY:"auto"})},setRange:function(e){Yt.prototype.setRange.call(this,e),this.grid.setRange(e)},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.widgetContentClass),this.scroller.render(),this.scroller.el.appendTo(this.el),this.grid.setElement(this.scroller.scrollEl)},unrenderSkeleton:function(){this.scroller.destroy()},setHeight:function(e){this.scroller.setHeight(this.computeScrollerHeight(e))},computeScrollerHeight:function(e){return e-r(this.el,this.scroller.el)},renderEvents:function(e){this.grid.renderEvents(e)},unrenderEvents:function(){this.grid.unrenderEvents()},isEventResizable:function(){return!1},isEventDraggable:function(){return!1}}),qt=ge.extend({segSelector:".fc-list-item",hasDayInteractions:!1,spanToSegs:function(o){for(var t,e=this.view,n=e.start.clone().time(0),a=0,r=[];n<e.end;)if(t=x(o,{start:n,end:n.clone().add(1,"day")}),t&&(t.dayIndex=a,r.push(t)),n.add(1,"day"),a++,t&&!t.isEnd&&o.end.hasTime()&&o.end<n.clone().add(this.view.nextDayThreshold)){t.end=o.end.clone(),t.isEnd=!0;break}return r},computeEventTimeFormat:function(){return this.view.opt("mediumTimeFormat")},handleSegClick:function(t,e){var n;ge.prototype.handleSegClick.apply(this,arguments),Fe(e.target).closest("a[href]").length||(n=t.event.url,n&&!e.isDefaultPrevented()&&(window.location.href=n))},renderFgSegs:function(e){return e=this.renderFgSegEls(e),e.length?this.renderSegList(e):this.renderEmptyMessage(),e},renderEmptyMessage:function(){this.el.html("<div class=\"fc-list-empty-wrap2\"><div class=\"fc-list-empty-wrap1\"><div class=\"fc-list-empty\">"+Z(this.view.opt("noEventsMessage"))+"</div></div></div>")},renderSegList:function(t){var e,n,i,r=this.groupSegsByDay(t),a=Fe("<table class=\"fc-list-table\"><tbody/></table>"),o=a.find("tbody");for(e=0;e<r.length;e++)if(n=r[e])for(o.append(this.dayHeaderHtml(this.view.start.clone().add(e,"days"))),this.sortEventSegs(n),i=0;i<n.length;i++)o.append(n[i].el);this.el.empty().append(a)},groupSegsByDay:function(r){var t,e,n=[];for(t=0;t<r.length;t++)e=r[t],(n[e.dayIndex]||(n[e.dayIndex]=[])).push(e);return n},dayHeaderHtml:function(r){var t=this.view,e=t.opt("listDayFormat"),n=t.opt("listDayAltFormat");return"<tr class=\"fc-list-heading\" data-date=\""+r.format("YYYY-MM-DD")+"\"><td class=\""+t.widgetHeaderClass+"\" colspan=\"3\">"+(e?t.buildGotoAnchorHtml(r,{class:"fc-list-heading-main"},Z(r.format(e))):"")+(n?t.buildGotoAnchorHtml(r,{class:"fc-list-heading-alt"},Z(r.format(n))):"")+"</td></tr>"},fgSegHtml:function(a){var t,e=this.view,n=["fc-list-item"].concat(this.getSegCustomClasses(a)),i=this.getSegBackgroundColor(a),r=a.event,s=r.url;return t=r.allDay?e.getAllDayHtml():e.isMultiDayEvent(r)?a.isStart||a.isEnd?Z(this.getEventTimeText(a)):e.getAllDayHtml():Z(this.getEventTimeText(r)),s&&n.push("fc-has-url"),"<tr class=\""+n.join(" ")+"\">"+(this.displayEventTime?"<td class=\"fc-list-item-time "+e.widgetContentClass+"\">"+(t||"")+"</td>":"")+"<td class=\"fc-list-item-marker "+e.widgetContentClass+"\"><span class=\"fc-event-dot\""+(i?" style=\"background-color:"+i+"\"":"")+"></span></td><td class=\"fc-list-item-title "+e.widgetContentClass+"\"><a"+(s?" href=\""+Z(s)+"\"":"")+">"+Z(a.event.title||"")+"</a></td></tr>"}});return Bt.list={class:Ne,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}},Bt.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}},Bt.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}},Bt.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}},Bt.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}},zt});